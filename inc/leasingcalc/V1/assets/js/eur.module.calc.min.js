!function(a){a(function(){a("#lur_main_layout").length>0&&(a("#calculator-container").length>0&&a("#calculator-container").append(a("#lur_main_layout")),new LeasingCalculator(a("#lur_main_layout"))),a(".expand-btn").on("click",function(b){return b.preventDefault(),a(a(this).data("show")).toggleClass("active"),a(a(this).data("hide")).removeClass("active"),a(a(this).data("show")).hasClass("active")?a(this).text(a(this).data("text-active")):a(this).text(a(this).data("text")),!1})})}(jQuery);var BmfSteuerRechner=function(a){this.init(a)};BmfSteuerRechner.prototype={init:function(a){var b=this;b.$elm=a,b.debugmode=!1,b.prepareDataObject()},prepareDataObject:function(){const a=this;a.AF=0,a.AJAHR=0,a.ALTER1=0,a.F=1,a.JFREIB=0,a.JHINZU=0,a.JRE4=0,a.JRE4ENT=0,a.JVBEZ=0,a.KRV=0,a.KVZ=1,a.LZZ=2,a.LZZFREIB=0,a.LZZHINZU=0,a.MBV=0,a.PKPV=0,a.PKV=0,a.PVA=0,a.PVS=0,a.PVZ=0,a.R=0,a.RE4=0,a.SONSTB=0,a.SONSTENT=0,a.STERBE=0,a.STKL=0,a.VBEZ=0,a.VBEZM=0,a.VBEZS=0,a.VBS=0,a.VJAHR=0,a.ZKF=0,a.ZMVB=0,a.LST1,a.LST2,a.LST3,a.LSTOSO,a.LSTSO=0,a.BK=0,a.BKS=0,a.LSTLZZ=0,a.SOLZLZZ=0,a.SOLZS=0,a.STS=0,a.VKVLZZ=0,a.VKVSONST=0,a.VFRB=0,a.VFRBS1=0,a.VFRBS2=0,a.WVFRB=0,a.WVFRB=0,a.WVFRBM=0,a.ALTE=0,a.ANP=0,a.ANTEIL1=0,a.BMG=0,a.BBGKVPV=0,a.BBGRV=0,a.DIFF=0,a.EFA=0,a.FVB=0,a.FVBSO=0,a.FVBZ=0,a.FVBZSO=0,a.GFB=0,a.HBALTE=0,a.HFVB=0,a.HFVBZ=0,a.HFVBZSO=0,a.HOCH=0,a.J=0,a.JBMG=0,a.JLFREIB=0,a.JLHINZU=0,a.JW=0,a.K=0,a.KFB=0,a.KVSATZAG=0,a.KVSATZAN=0,a.KZTAB=0,a.LSTJAHR=0,a.LST1=0,a.LST2=0,a.LST3=0,a.LSTOSO=0,a.LSTSO=0,a.MIST=0,a.PVSATZAG=0,a.PVSATZAN=0,a.RVSATZAN=0,a.RW=0,a.SAP=0,a.SOLZFREI=0,a.SOLZJ=0,a.SOLZMIN=0,a.SOLZSBMG=0,a.SOLZSZVE=0,a.ST=0,a.ST1=0,a.ST2=0,a.STOVMT=0,a.VBEZB=0,a.VBEZBSO=0,a.VERGL=0,a.VHB=0,a.VKV=0,a.VSP=0,a.VSPN=0,a.VSP1=0,a.VSP2=0,a.VSP3=0,a.W1STKL5=0,a.W2STKL5=0,a.W3STKL5=0,a.X=0,a.Y=0,a.ZRE4=0,a.ZRE4J=0,a.ZRE4VP=0,a.ZTABFB=0,a.ZVBEZ=0,a.ZVBEZJ=0,a.ZVE=0,a.ZX=0,a.ZZX=0,a.RVERS=0,a.KVERS=0,a.PVERS=0,a.AVERS=0,a.varTab1=[],a.varTab1[0]=0,a.varTab1[1]=.4,a.varTab1[2]=.384,a.varTab1[3]=.368,a.varTab1[4]=.352,a.varTab1[5]=.336,a.varTab1[6]=.32,a.varTab1[7]=.304,a.varTab1[8]=.288,a.varTab1[9]=.272,a.varTab1[10]=.256,a.varTab1[11]=.24,a.varTab1[12]=.224,a.varTab1[13]=.208,a.varTab1[14]=.192,a.varTab1[15]=.176,a.varTab1[16]=.16,a.varTab1[17]=.152,a.varTab1[18]=.144,a.varTab1[19]=.14,a.varTab1[20]=.136,a.varTab1[21]=.132,a.varTab1[22]=.128,a.varTab1[23]=.124,a.varTab1[24]=.12,a.varTab1[25]=.116,a.varTab1[26]=.112,a.varTab1[27]=.108,a.varTab1[28]=.104,a.varTab1[29]=.1,a.varTab1[30]=.096,a.varTab1[31]=.092,a.varTab1[32]=.088,a.varTab1[33]=.084,a.varTab1[34]=.08,a.varTab1[35]=.076,a.varTab1[36]=.072,a.varTab1[37]=.068,a.varTab1[38]=.064,a.varTab1[39]=.06,a.varTab1[40]=.056,a.varTab1[41]=.052,a.varTab1[42]=.048,a.varTab1[43]=.044,a.varTab1[44]=.04,a.varTab1[45]=.036,a.varTab1[46]=.032,a.varTab1[47]=.028,a.varTab1[48]=.024,a.varTab1[49]=.02,a.varTab1[50]=.016,a.varTab1[51]=.012,a.varTab1[52]=.008,a.varTab1[53]=.004,a.varTab1[54]=0,a.varTab2=[],a.varTab2[0]=0,a.varTab2[1]=3e3,a.varTab2[2]=2880,a.varTab2[3]=2760,a.varTab2[4]=2640,a.varTab2[5]=2520,a.varTab2[6]=2400,a.varTab2[7]=2280,a.varTab2[8]=2160,a.varTab2[9]=2040,a.varTab2[10]=1920,a.varTab2[11]=1800,a.varTab2[12]=1680,a.varTab2[13]=1560,a.varTab2[14]=1440,a.varTab2[15]=1320,a.varTab2[16]=1200,a.varTab2[17]=1140,a.varTab2[18]=1080,a.varTab2[19]=1050,a.varTab2[20]=1020,a.varTab2[21]=990,a.varTab2[22]=960,a.varTab2[23]=930,a.varTab2[24]=900,a.varTab2[25]=870,a.varTab2[26]=840,a.varTab2[27]=810,a.varTab2[28]=780,a.varTab2[29]=750,a.varTab2[30]=720,a.varTab2[31]=690,a.varTab2[32]=660,a.varTab2[33]=630,a.varTab2[34]=600,a.varTab2[35]=570,a.varTab2[36]=540,a.varTab2[37]=510,a.varTab2[38]=480,a.varTab2[39]=450,a.varTab2[40]=420,a.varTab2[41]=390,a.varTab2[42]=360,a.varTab2[43]=330,a.varTab2[44]=300,a.varTab2[45]=270,a.varTab2[46]=240,a.varTab2[47]=210,a.varTab2[48]=180,a.varTab2[49]=150,a.varTab2[50]=120,a.varTab2[51]=90,a.varTab2[52]=60,a.varTab2[53]=30,a.varTab2[54]=0,a.varTab3=[],a.varTab3[0]=0,a.varTab3[1]=900,a.varTab3[2]=864,a.varTab3[3]=828,a.varTab3[4]=792,a.varTab3[5]=756,a.varTab3[6]=720,a.varTab3[7]=684,a.varTab3[8]=648,a.varTab3[9]=612,a.varTab3[10]=576,a.varTab3[11]=540,a.varTab3[12]=504,a.varTab3[13]=468,a.varTab3[14]=432,a.varTab3[15]=396,a.varTab3[16]=360,a.varTab3[17]=342,a.varTab3[18]=324,a.varTab3[19]=315,a.varTab3[20]=306,a.varTab3[21]=297,a.varTab3[22]=288,a.varTab3[23]=279,a.varTab3[24]=270,a.varTab3[25]=261,a.varTab3[26]=252,a.varTab3[27]=243,a.varTab3[28]=234,a.varTab3[29]=225,a.varTab3[30]=216,a.varTab3[31]=207,a.varTab3[32]=198,a.varTab3[33]=189,a.varTab3[34]=180,a.varTab3[35]=171,a.varTab3[36]=162,a.varTab3[37]=153,a.varTab3[38]=144,a.varTab3[39]=135,a.varTab3[40]=126,a.varTab3[41]=117,a.varTab3[42]=108,a.varTab3[43]=99,a.varTab3[44]=90,a.varTab3[45]=81,a.varTab3[46]=72,a.varTab3[47]=63,a.varTab3[48]=54,a.varTab3[49]=45,a.varTab3[50]=36,a.varTab3[51]=27,a.varTab3[52]=18,a.varTab3[53]=9,a.varTab3[54]=0,a.varTab4=[],a.varTab4[0]=0,a.varTab4[1]=.4,a.varTab4[2]=.384,a.varTab4[3]=.368,a.varTab4[4]=.352,a.varTab4[5]=.336,a.varTab4[6]=.32,a.varTab4[7]=.304,a.varTab4[8]=.288,a.varTab4[9]=.272,a.varTab4[10]=.256,a.varTab4[11]=.24,a.varTab4[12]=.224,a.varTab4[13]=.208,a.varTab4[14]=.192,a.varTab4[15]=.176,a.varTab4[16]=.16,a.varTab4[17]=.152,a.varTab4[18]=.144,a.varTab4[19]=.14,a.varTab4[20]=.136,a.varTab4[21]=.132,a.varTab4[22]=.128,a.varTab4[23]=.124,a.varTab4[24]=.12,a.varTab4[25]=.116,a.varTab4[26]=.112,a.varTab4[27]=.108,a.varTab4[28]=.104,a.varTab4[29]=.1,a.varTab4[30]=.096,a.varTab4[31]=.092,a.varTab4[32]=.088,a.varTab4[33]=.084,a.varTab4[34]=.08,a.varTab4[35]=.076,a.varTab4[36]=.072,a.varTab4[37]=.068,a.varTab4[38]=.064,a.varTab4[39]=.06,a.varTab4[40]=.056,a.varTab4[41]=.052,a.varTab4[42]=.048,a.varTab4[43]=.044,a.varTab4[44]=.04,a.varTab4[45]=.036,a.varTab4[46]=.032,a.varTab4[47]=.028,a.varTab4[48]=.024,a.varTab4[49]=.02,a.varTab4[50]=.016,a.varTab4[51]=.012,a.varTab4[52]=.008,a.varTab4[53]=.004,a.varTab4[54]=0,a.varTab5=[],a.varTab5[0]=0,a.varTab5[1]=1900,a.varTab5[2]=1824,a.varTab5[3]=1748,a.varTab5[4]=1672,a.varTab5[5]=1596,a.varTab5[6]=1520,a.varTab5[7]=1444,a.varTab5[8]=1368,a.varTab5[9]=1292,a.varTab5[10]=1216,a.varTab5[11]=1140,a.varTab5[12]=1064,a.varTab5[13]=988,a.varTab5[14]=912,a.varTab5[15]=836,a.varTab5[16]=760,a.varTab5[17]=722,a.varTab5[18]=684,a.varTab5[19]=665,a.varTab5[20]=646,a.varTab5[21]=627,a.varTab5[22]=608,a.varTab5[23]=589,a.varTab5[24]=570,a.varTab5[25]=551,a.varTab5[26]=532,a.varTab5[27]=513,a.varTab5[28]=494,a.varTab5[29]=475,a.varTab5[30]=456,a.varTab5[31]=437,a.varTab5[32]=418,a.varTab5[33]=399,a.varTab5[34]=380,a.varTab5[35]=361,a.varTab5[36]=342,a.varTab5[37]=323,a.varTab5[38]=304,a.varTab5[39]=285,a.varTab5[40]=266,a.varTab5[41]=247,a.varTab5[42]=228,a.varTab5[43]=209,a.varTab5[44]=190,a.varTab5[45]=171;a.varTab5[46]=152,a.varTab5[47]=133,a.varTab5[48]=114,a.varTab5[49]=95,a.varTab5[50]=76,a.varTab5[51]=57,a.varTab5[52]=38,a.varTab5[53]=19,a.varTab5[54]=0},TAB1:function(a){return this.varTab1[a]},TAB2:function(a){return this.varTab2[a]},TAB3:function(a){return this.varTab3[a]},TAB4:function(a){return this.varTab4[a]},TAB5:function(a){return this.varTab5[a]},func_LST:function(){const a=this;a.func_MPARA(),a.func_MRE4JL(),a.VBEZBSO=0,a.func_MRE4(),a.func_MRE4ABZ(),a.func_MBERECH(),a.func_MSONST()},func_MPARA:function(){const a=this;a.KRV<1&&(a.BBGRV=96600,a.RVSATZAN=.093),a.BBGKVPV=66150,a.KVSATZAN=a.KVZ/2/100+.07,a.KVSATZAG=.0825,1===a.PVS?(a.PVSATZAN=.023,a.PVSATZAG=.013):(a.PVSATZAN=.018,a.PVSATZAG=.018),1===a.PVZ?a.PVSATZAN=a.PVSATZAN+.006:a.PVSATZAN=a.PVSATZAN-.0025*a.PVA,a.W1STKL5=13432,a.W2STKL5=33380,a.W3STKL5=222260,a.GFB=11784,a.SOLZFREI=18130},func_MRE4JL:function(){var a=this,b=1;b=1==a.LZZ?1:2==a.LZZ?12:3==a.LZZ?360/7:360,a.ZRE4J=a.RE4*b/100,a.ZVBEZJ=a.VBEZ*b/100,a.JLFREIB=a.LZZFREIB*b/100,a.JLHINZU=a.LZZHINZU*b/100,0==a.AF&&(a.F=1)},func_MRE4:function(){const a=this;0==a.ZVBEZJ?(a.FVBZ=0,a.FVB=0,a.FVBZSO=0,a.FVBSO=0):(a.VJAHR<2006?a.J=1:a.VJAHR<2058?a.J=a.VJAHR-2004:a.J=54,1==a.LZZ?(a.VBEZB=a.VBEZM*a.ZMVB+a.VBEZS,a.HFVB=Math.ceil(a.TAB2(a.J)/12*a.ZMVB),a.FVBZ=Math.ceil(a.TAB3(a.J)/12*a.ZMVB)):(a.VBEZB=12*a.VBEZM+a.VBEZS,a.HFVB=Math.ceil(a.TAB2(a.J)),a.FVBZ=Math.ceil(a.TAB3(a.J))),a.FVB=a.decimalCeil(a.VBEZB*a.TAB1(a.J)/100,2),a.FVB>a.HFVB&&(a.FVB=a.HFVB),a.FVB>a.ZVBEZJ&&(a.FVB=a.ZVBEZJ),a.FVBSO=a.decimalCeil(a.FVB+a.VBEZBSO*a.TAB1(a.J)/100,2),a.FVBSO>a.TAB2(a.J)&&(a.FVBSO=a.TAB2(a.J)),a.HFVBZSO=(a.VBEZB+a.VBEZBSO)/100-a.FVBSO,a.FVBZSO=Math.ceil(a.FVBZ+a.VBEZBSO/100),a.FVBZSO>a.HFVBZSO&&(a.FVBZSO=Math.ceil(a.HFVBZSO)),a.FVBZSO>a.TAB3(a.J)&&(a.FVBZSO=a.TAB3(a.J)),a.HFVBZ=a.VBEZB/100-a.FVB,a.FVBZ>a.HFVBZ&&(a.FVBZ=Math.ceil(a.HFVBZ))),a.func_MRE4ALTE()},func_MRE4ALTE:function(){const a=this;0==a.ALTER1?a.ALTE=0:(a.AJAHR<2006?a.K=1:a.AJAHR<2058?a.K=a.AJAHR-2004:a.K=54,a.BMG=a.ZRE4J-a.ZVBEZJ,a.ALTE=Math.ceil(a.BMG*a.TAB4(a.K)),a.HBALTE=a.TAB5(a.K),a.ALTE>a.HBALTE&&(a.ALTE=a.HBALTE))},func_MRE4ABZ:function(){const a=this;a.ZRE4=a.ZRE4J-a.FVB-a.ALTE-a.JLFREIB+a.JLHINZU,a.ZRE4<0&&(a.ZRE4=0),a.ZRE4VP=a.ZRE4J,a.ZVBEZ=a.ZVBEZJ-a.FVB,a.ZVBEZ<0&&(a.ZVBEZ=0)},func_MBERECH:function(){const a=this;a.func_MZTABFB(),a.VFRB=100*(a.ANP+a.FVB+a.FVBZ),a.func_MLSTJAHR(),a.WVFRB=100*(a.ZVE-a.GFB),a.WVFRB<0&&(a.WVFRB=0),a.LSTJAHR=a.ST*a.F,a.func_UPLSTLZZ(),a.func_UPVKVLZZ(),a.ZKF>0?(a.ZTABFB=a.ZTABFB+a.KFB,a.func_MRE4ABZ(),a.func_MLSTJAHR(),a.JBMG=a.ST*a.F):a.JBMG=a.LSTJAHR,a.func_MSOLZ()},func_MZTABFB:function(){const a=this;a.ANP=0,a.ZVBEZ>=0&&a.ZVBEZ<a.FVBZ&&(a.FVBZ=a.ZVBEZ),a.STKL<6?a.ZVBEZ>0&&(a.ZVBEZ-a.FVBZ<102?a.ANP=Math.ceil(a.ZVBEZ-a.FVBZ):a.ANP=102):(a.FVBZ=0,a.FVBZSO=0),a.STKL<6&&a.ZRE4>a.ZVBEZ&&(a.ZRE4-a.ZVBEZ<1230?a.ANP=Math.ceil(a.ANP+a.ZRE4-a.ZVBEZ):a.ANP=a.ANP+1230),a.KZTAB=1,1==a.STKL?(a.SAP=36,a.KFB=9540*a.ZKF):2==a.STKL?(a.EFA=4260,a.SAP=36,a.KFB=9540*a.ZKF):3==a.STKL?(a.KZTAB=2,a.SAP=36,a.KFB=9540*a.ZKF):4==a.STKL?(a.SAP=36,a.KFB=4770*a.ZKF):5==a.STKL?(a.SAP=36,a.KFB=0):a.KFB=0,a.ZTABFB=a.EFA+a.ANP+a.SAP+a.FVBZ},func_MLSTJAHR:function(){const a=this;a.func_UPEVP(),a.ZVE=a.ZRE4-a.ZTABFB-a.VSP,a.func_UPMLST()},func_UPVKVLZZ:function(){const a=this;a.func_UPVKV(),a.JW=a.VKV,a.func_UPANTEIL(),a.VKVLZZ=a.ANTEIL1},func_UPVKV:function(){const a=this;a.PKV>0?a.VSP2>a.VSP3?a.VKV=100*a.VSP2:a.VKV=100*a.VSP3:a.VKV=0},func_UPLSTLZZ:function(){const a=this;a.JW=100*a.LSTJAHR,a.func_UPANTEIL(),a.LSTLZZ=a.ANTEIL1},func_UPMLST:function(){const a=this;a.ZVE<1?(a.ZVE=0,a.X=0):a.X=Math.floor(a.ZVE/a.KZTAB),a.STKL<5?a.func_UPTAB24():a.func_MST5_6()},func_UPEVP:function(){const a=this;1==a.KRV?a.VSP1=0:(a.ZRE4VP>a.BBGRV&&(a.ZRE4VP=a.BBGRV),a.VSP1=a.RVSATZAN*a.ZRE4VP),a.VSP2=.12*a.ZRE4VP,3==a.STKL?a.VHB=3e3:a.VHB=1900,a.VSP2>a.VHB&&(a.VSP2=a.VHB),a.VSPN=Math.ceil(a.VSP1+a.VSP2),a.func_MVSP(),a.VSPN>a.VSP&&(a.VSP=a.VSPN),a.AVERS=.015*a.ZRE4VP},func_MVSP:function(){const a=this;a.ZRE4VP>a.BBGKVPV&&(a.ZRE4VP=a.BBGKVPV),a.PKV>0?(6==a.STKL?a.VSP3=0:(a.VSP3=12*a.PKPV/100,2==a.PKV&&(a.VSP3=a.VSP3-a.ZRE4VP*(a.KVSATZAG+a.PVSATZAG))),a.KVERS=0,a.PVERS=0):a.VSP3=a.ZRE4VP*(a.KVSATZAN+a.PVSATZAN),a.VSP=Math.ceil(a.VSP3+a.VSP1)},func_MST5_6:function(){const a=this;a.ZZX=a.X,a.ZZX>a.W2STKL5?(a.ZX=a.W2STKL5,a.func_UP5_6(),a.ZZX>a.W3STKL5?(a.ST=Math.floor(a.ST+.42*(a.W3STKL5-a.W2STKL5)),a.ST=Math.floor(a.ST+.45*(a.ZZX-a.W3STKL5))):a.ST=Math.floor(a.ST+.42*(a.ZZX-a.W2STKL5))):(a.ZX=a.ZZX,a.func_UP5_6(),a.ZZX>a.W1STKL5&&(a.VERGL=a.ST,a.ZX=a.W1STKL5,a.func_UP5_6(),a.HOCH=Math.floor(a.ST+.42*(a.ZZX-a.W1STKL5)),a.HOCH<a.VERGL?a.ST=a.HOCH:a.ST=a.VERGL))},func_UP5_6:function(){const a=this;a.X=1.25*a.ZX,a.func_UPTAB24(),a.ST1=a.ST,a.X=.75*a.ZX,a.func_UPTAB24(),a.ST2=a.ST,a.DIFF=2*(a.ST1-a.ST2),a.MIST=Math.floor(.14*a.ZX),a.MIST>a.DIFF?a.ST=a.MIST:a.ST=a.DIFF},func_MSOLZ:function(){const a=this;a.SOLZFREI=a.SOLZFREI*a.KZTAB,a.JBMG>a.SOLZFREI?(a.SOLZJ=a.decimalFloor(5.5*a.JBMG/100,2),a.SOLZMIN=11.9*(a.JBMG-a.SOLZFREI)/100,a.SOLZMIN<a.SOLZJ&&(a.SOLZJ=a.SOLZMIN),a.JW=100*a.SOLZJ,a.func_UPANTEIL(),a.SOLZLZZ=a.ANTEIL1):a.SOLZLZZ=0,a.R>0?(a.JW=100*a.JBMG,a.func_UPANTEIL(),a.BK=a.ANTEIL1):a.BK=0},func_UPANTEIL:function(){const a=this;1==a.LZZ?a.ANTEIL1=a.JW:2==a.LZZ?a.ANTEIL1=a.decimalFloor(a.JW/12,0):3==a.LZZ?a.ANTEIL1=a.decimalFloor(7*a.JW/360,0):a.ANTEIL1=a.decimalFloor(a.JW/360,0)},func_MSONST:function(){const a=this;a.LZZ=1,0==a.ZMVB&&(a.ZMVB=12),0==a.SONSTB&&0==a.MBV?(a.VKVSONST=0,a.LSTSO=0,a.STS=0,a.SOLZS=0,a.BKS=0):(a.func_MOSONST(),a.func_UPVKV(),a.VKVSONST=a.VKV,a.ZRE4J=(a.JRE4+a.SONSTB)/100,a.ZVBEZJ=(a.JVBEZ+a.VBS)/100,a.VBEZBSO=a.STERBE,a.func_MRE4SONST(),a.func_MLSTJAHR(),a.WVFRBM=100*(a.ZVE-a.GFB),a.WVFRBM<0&&(a.WVFRBM=0),a.func_UPVKV(),a.VKVSONST=a.VKV-a.VKVSONST,a.LSTSO=100*a.ST,a.STS=Math.abs(Math.floor((a.LSTSO-a.LSTOSO)*a.F)),a.func_STSMIN())},func_STSMIN:function(){const a=this;a.STS<0?(0!=a.MBV&&(a.LSTLZZ=a.LSTLZZ+a.STS,a.LSTLZZ<0&&(a.LSTLZZ=0),a.SOLZLZZ=a.decimalFloor(a.SOLZLZZ+5.5*a.STS/100,2),a.SOLZLZZ<0&&(a.SOLZLZZ=0),a.BK=a.BK+a.STS,a.BK<0&&(a.BK=0)),a.STS=0,a.SOLZS=0):a.func_MSOLZSTS(),a.R>0?a.BKS=a.STS:a.BKS=0},func_MSOLZSTS:function(){const a=this;a.ZKF>0?a.SOLZSZVE=a.ZVE-a.KFB:a.SOLZSZVE=a.ZVE,a.SOLZSZVE<1?(a.SOLZSZVE=0,a.X=0):a.X=Math.floor(a.SOLZSZVE/a.KZTAB),a.STKL<5?a.func_UPTAB24():a.func_MST5_6(),a.SOLZSBMG=Math.floor(a.ST*a.F),a.SOLZSBMG>a.SOLZFREI?a.SOLZS=a.decimalFloor(5.5*a.STS/100,2):a.SOLZS=0},func_MOSONST:function(){const a=this;a.ZRE4J=a.JRE4/100,a.ZVBEZJ=a.JVBEZ/100,a.JLFREIB=a.JFREIB/100,a.JLHINZU=a.JHINZU/100,a.func_MRE4(),a.func_MRE4ABZ(),a.ZRE4VP=a.ZRE4VP-a.JRE4ENT/100,a.func_MZTABFB(),a.VFRBS1=100*(a.ANP+a.FVB+a.FVBZ),a.func_MLSTJAHR(),a.WVFRBO=100*(a.ZVE-a.GFB),a.WVFRBO<0&&(a.WVFRBO=0),a.LSTOSO=100*a.ST},func_MRE4SONST:function(){const a=this;a.func_MRE4(),a.FVB=a.FVBSO,a.func_MRE4ABZ(),a.ZRE4VP=a.ZRE4VP+a.MBV/100-a.JRE4ENT/100-a.SONSTENT/100,a.FVBZ=a.FVBZSO,a.func_MZTABFB(),a.VFRBS2=100*(a.ANP+a.FVB+a.FVBZ)-a.VFRBS1},func_UPTAB24:function(){const a=this;a.X<a.GFB+1?a.ST=0:a.X<17006?(a.Y=(a.X-a.GFB)/1e4,a.RW=954.8*a.Y,a.RW=a.RW+1400,a.ST=Math.floor(a.RW*a.Y)):a.X<66761?(a.Y=(a.X-17005)/1e4,a.RW=181.19*a.Y,a.RW=a.RW+2397,a.RW=a.RW*a.Y,a.ST=Math.floor(a.RW+991.21)):a.X<277826?a.ST=Math.floor(.42*a.X-10636.31):a.ST=Math.floor(.45*a.X-18971.06),a.ST=a.ST*a.KZTAB},decimalRound:function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},decimalCeil:function(a,b){var c=Math.pow(10,b);return Math.ceil(a*c)/c},decimalFloor:function(a,b){var c=Math.pow(10,b);return Math.floor(a*c)/c},initParams:function(){const a=this;a.AF=0,a.AJAHR=0,a.ALTER1=0,a.ENTSCH=0,a.F=1,a.JFREIB=0,a.JHINZU=0,a.JRE4=0,a.JRE4ENT=0,a.JVBEZ=0,a.KRV=0,a.LZZ=2,a.LZZFREIB=0,a.LZZHINZU=0,a.PKPV=0,a.PKV=0,a.PVS=0,a.PVZ=0,a.R=0,a.RE4=0,a.SONSTB=0,a.SONSTENT=0,a.STERBE=0,a.STKL=0,a.VBEZ=0,a.VBEZM=0,a.VBEZS=0,a.VBS=0,a.VJAHR=0,a.VKAPA=0,a.VMT=0,a.ZKF=0,a.ZMVB=0,a.BK=0,a.BKS=0,a.BKV=0,a.LSTLZZ=0,a.SOLZLZZ=0,a.SOLZS=0,a.SOLZV=0,a.STS=0,a.STV=0,a.VKVLZZ=0,a.VKVSONST=0,a.ALTE=0,a.ANP=0,a.ANTEIL1=0,a.BMG=0,a.DIFF=0,a.EFA=0,a.FVB=0,a.FVBSO=0,a.FVBZ=0,a.FVBZSO=0,a.HBALTE=0,a.HFVB=0,a.HFVBZ=0,a.HFVBZSO=0,a.HOCH=0,a.J=0,a.JBMG=0,a.JLFREIB=0,a.JLHINZU=0,a.JW=0,a.K=0,a.KENNVMT=0,a.KFB=0,a.KVSATZAG=0,a.KVSATZAN=0,a.KZTAB=0,a.LSTJAHR=0,a.LST1,a.LST2,a.LST3,a.LSTOSO,a.LSTSO=0,a.MIST=0,a.PVSATZAG=0,a.PVSATZAN=0,a.RW=0,a.SAP=0,a.SOLZFREI=0,a.SOLZJ=0,a.SOLZMIN=0,a.ST=0,a.ST1=0,a.ST2=0,a.STOVMT=0,a.VBEZB=0,a.VBEZBSO=0,a.VERGL=0,a.VHB=0,a.VKV=0,a.VSP=0,a.VSPN=0,a.VSP1=0,a.VSP2=0,a.VSP3=0,a.W1STKL5=0,a.W2STKL5=0,a.W3STKL5=0,a.X=0,a.Y=0,a.ZRE4=0,a.ZRE4J=0,a.ZRE4VP=0,a.ZTABFB=0,a.ZVBEZ=0,a.ZVBEZJ=0,a.ZVE=0,a.ZX=0,a.ZZX=0}};var LeasingCalculator=function(a){this.init(a)};LeasingCalculator.prototype={init:function(a){var b=this;b.$elm=a,leasingCalc=b,b.prepareDataObject(),b.resetParams(),b.calculate(),void 0!==b.$elm&&null!==b.$elm&&b.bindEvents()},prepareDataObject:function(){var a=this;a.bikesPrice=0,a.bikesPriceBrutto=0,a.bikesPriceNetto=0,a.leasingPriceNetto=0,a.leasingPriceBrutto=0,a.leasingPriceBarumwandlung=0,a.ersparnis=0,a.ersparnisProz=0,a.lohnBrutto=0,a.lohnBruttoBarumwandlung=0,a.aVers=0,a.rVers=0,a.pVers=0,a.agPVers=0,a.agKVers=0,a.agVers=0,a.vers=0,a.kSteuer=0,a.steuern=0,a.abgaben=0,a.lohnSteuer=0,a.soli=0,a.laufzeit=36,a.anzahlung=0,a.factorObject=a.$elm.data("factorobject"),a.verspraemie=a.$elm.data("insuranceobject"),a.maxBikes=a.$elm.data("max-bikes"),a.calctype=a.$elm.data("calctype"),a.noTaxOnInsurance=a.$elm.data("no-tax-on-insurance"),a.subtractTaxAfterEmployershare=a.$elm.data("subtract-tax-after-employershare"),a.noSavings=a.$elm.data("nosavings"),a.noSavings=a.$elm.data("nosavings"),a.employersshareType=a.$elm.data("employersshare"),a.subtractEmployersShareInResult=a.$elm.data("subtract-employersshare-in-result"),void 0!==a.$elm&&null!==a.$elm&&(a.$inputFields=a.$elm.find("input, select"),a.$switches=a.$elm.find(".switch"),a.$submit=a.$elm.find("#btn-calculate"),a.$switchKinder=a.$elm.find("#lur_kinder_switch"),a.$switchKinderSpan=a.$elm.find("#lur_kinder_switch span"),a.$anzahlKinder=a.$elm.find("#lur_content_anzkinder"),a.$anzahlKinder2=a.$elm.find("#lur_content_anzkinder_2"),a.$inputKinder=a.$elm.find("#lur_kinder"),a.$inputKinder2=a.$elm.find("#lur_kinder_2"),a.$switchKirche=a.$elm.find("#lur_kirche_switch"),a.$switchBeamte=a.$elm.find("#lur_beamte_switch"),a.$switchUst=a.$elm.find("#lur_ust_switch"),a.$switchReverse=a.$elm.find("#lur_reverse_switch"),a.$calcReverse=a.$elm.find("#lur_reverse_calc"),a.$selectSteuerklasse=a.$elm.find("#lur_steuerklasse"),a.$rowSteuerFaktor=a.$elm.find("#lur_content_faktor"),a.$inputSteuerFaktor=a.$elm.find("#lur_faktor"),a.$selectKrankenkasse=a.$elm.find("#lur_krankenkasse"),a.$selectJahr=a.$elm.find("#lur_jahr"),a.$krankenkasseRow=a.$elm.find("#lur_content_kraka"),a.$kvZusatzRow=a.$elm.find("#lur_content_kvzusatz"),a.$renteRow=a.$elm.find("#lur_content_rente"),a.$anKrankenkasse=a.$elm.find("#lur_content_ankraka"),a.$inputPrice=a.$elm.find("#price"),a.$inputPriceUvp=a.$elm.find("#price-uvp"),a.$inputBruttoLohn=a.$elm.find("#lur_bruttolohn"),a.$employersshare=a.$elm.find("#lur_employersshare"),a.$subventionAdd=a.$elm.find("#lur_subvention_add"),a.$subventionInternet=a.$elm.find("#lur_subvention_internet"),a.$subventionPhone=a.$elm.find("#lur_subvention_phone"),a.$selectBundesland=a.$elm.find("#lur_bundesland"),a.$optionNRW=a.$elm.find('option[value="NRW"]'),a.$selectBikeType=a.$elm.find(".lur_type"),a.$kvZusatz=a.$elm.find("#lur_kvzusatz"),a.$inputGeburtsjahr=a.$elm.find("#lur_gebjahr"),a.$inputPrivKrankenkassenBeitrag=a.$elm.find("#lur_priv_kassenbeitrag"),a.$selectRente=a.$elm.find(".lur_rente"),a.$calcTable=a.$elm.find("#calculation-tables"),a.$addBike=a.$elm.find(".lur_add_bike"),a.$addBikeRow=a.$elm.find(".lur_content_row_add"),a.$bikeRowDummy=a.$elm.find(".lur_content_row_bike").clone(),a.$bikesPopout=a.$elm.find(".lur_open_popout_bikes"),a.$openPopout=a.$elm.find(".lur_open_popout"),a.$versicherung=a.$elm.find("#lur_versicherung"),a.$leasingRow=a.$elm.find("#leasingRow"),a.$employersshareMinus=a.$elm.find(".employersshare-minus"),a.$employersshareMinusValue=a.$employersshareMinus.find(".employersshare-minus-value"),a.$maxLeasingRateButton=a.$elm.find("#lur_max_bike_price_button"),a.$takeoverLeasingRateButton=a.$elm.find("#lur_takeover_bike_price_button"),a.$maxLeasingRateInput=a.$elm.find("#lur_max_bike_price"),a.$maxLeasingRateResult=a.$elm.find("#lur_max_bike_price_result"),a.$maxLeasingRateResultNumber=a.$elm.find("#lur_max_bike_price_result_number"),a.$versRow=a.$elm.find(".versRow").detach(),a.$outputLeasingMonat=a.$elm.find(".lur_leasing_monat"),a.$outputLeasingMonatNetto=a.$elm.find("#lur_leasing_monat_netto"),a.$outputSummeMonat=a.$elm.find(".lur_summe_monat"),a.$outputSummeMonatNetto=a.$elm.find("#lur_summe_monat_netto"),a.$outputLeasingUmlage=a.$elm.find("#lur_leasing_umlage"),a.$outputErsparnisProzent=a.$elm.find("#lur_ersparnis_proz"),a.$outputErsparnisAbsolut=a.$elm.find("#lur_ersparnis_abs"),a.employersshareStandard=a.$employersshare.val(),a.$employersshareAdditional=a.$elm.find(".lur_employersshare_additional"),a.employerssharePercent=a.$elm.data("employersshare-value"),a.employerssharePercent2=a.$elm.data("employersshare-value-2"),a.employersshareBikeCount=a.$elm.data("employersshare-bike-count"),a.employersshareMultiply=a.$elm.data("employersshare-multiply"),a.useFullBikeUvpPrice=a.$elm.data("use-full-bike-uvp"),a.year=parseInt(a.$elm.data("year")),void 0!==a.$selectJahr.val()&&parseInt(a.year=a.$selectJahr.val())),a.getBMF()},getBMF:function(){this.bmfSteuerRechner=new BmfSteuerRechner},bindEvents:function(){var a,b=this;b.$switches.on("click",function(){jQuery(this).toggleClass("opt-yes"),b.calculate()}),b.$submit.on("click",function(a){a.preventDefault(),b.calculate()}),jQuery(document).on("click",".lur_open_popout",function(a){a.preventDefault(),jQuery(".lur_popout").not(jQuery(this).children(".lur_popout")).removeClass("active"),jQuery(".lur_popout--"+jQuery(this).data("ref")).toggleClass("active")}),jQuery(document).on("click",".lur_popout",function(a){return a.preventDefault(),a.stopPropagation(),!1}),jQuery(document).on("click",".close",function(a){return a.preventDefault(),jQuery(this).parents(".lur_popout").removeClass("active"),a.stopPropagation(),!1}),jQuery(document).on("click",function(a){!jQuery(a.target).hasClass("lur_open_popout")&&jQuery(a.target).parents(".lur_open_popout").length<=0&&jQuery(".lur_popout").removeClass("active")}),b.$switchKinder.on("click",function(){jQuery(this).hasClass("opt-yes")?(b.$anzahlKinder.show(),b.$anzahlKinder2.show(),b.$inputKinder2.val(1)):(b.$anzahlKinder.hide(),b.$anzahlKinder2.hide(),b.$inputKinder2.val(0)),b.calculate()}),b.$switchReverse.on("click",function(){jQuery(this).hasClass("opt-yes")?b.$calcReverse.show():b.$calcReverse.hide()}),b.$switchBeamte.on("click",function(){b.calculate()}),b.$selectSteuerklasse.on("change",function(){5==b.$selectSteuerklasse.val()?b.$rowSteuerFaktor.show():b.$rowSteuerFaktor.hide()}),b.$selectKrankenkasse.on("change",function(){1==b.$selectKrankenkasse.val()?b.$anKrankenkasse.hide():b.$anKrankenkasse.show()}),b.$selectJahr.on("change",function(){b.year=b.$selectJahr.val(),b.year>=2018?(b.$kvZusatz.val(1),b.$elm.removeClass("jahr2017"),b.$elm.addClass("jahr2018")):(b.$kvZusatz.val(1.1),b.$elm.removeClass("jahr2018"),b.$elm.addClass("jahr2017")),b.getBMF()}),b.$versicherung.on("change",function(){b.checkVers(),b.paket=b.$versicherung.val();var a=b.getPackageValue("maxBikePrice");jQuery(".lur_bike_price").attr("max",a)}),b.$elm.addClass("paket-"+b.$versicherung.val()),b.checkVers(),b.$addBike.on("click",function(c){c.preventDefault(),a=b.$bikeRowDummy.clone(),a.insertAfter(jQuery(".lur_content_row_bike").last());var d=b.$elm.find(".bikeNo").length;a.find(".bikeNo").html("# "+d),b.testBikeCount(),b.checkVers(),b.calculate()}),jQuery(document).on("change",".lur_bike_price",function(){var a=jQuery(this).attr("max"),b=jQuery(this).attr("min");parseFloat(jQuery(this).val())<parseFloat(b)&&jQuery(this).attr("value",b).val(b),parseFloat(jQuery(this).val())>parseFloat(a)&&jQuery(this).attr("value",a).val(a)}),jQuery(document).on("keyup change",".lur_bike_price",function(){jQuery(this).parents(".lur_content_row").find(".lur_bike_price-uvp").val(jQuery(this).val())}),jQuery(document).on("change",".lur_bike_price-uvp",function(){var a=jQuery(this).parents(".lur_content_row").find(".lur_bike_price").val();parseFloat(jQuery(this).val())<parseFloat(a)&&jQuery(this).attr("value",a).val(a)}),jQuery(document).on("keyup change","#lur_main_layout input, #lur_main_layout select",function(){b.calculate()}),jQuery(document).on("click",".lur_remove_bike",function(a){a.preventDefault(),jQuery(this).parents(".lur_content_row_bike").remove(),b.testBikeCount(),b.calculate()}),jQuery(document).on("keyup change",".lur_bike_count",function(a){var c=void 0!==jQuery(this).data("oldval")?jQuery(this).data("oldval"):1;b.testBikeCount()?jQuery(this).attr("value",c).val(c):jQuery(this).data("oldval",jQuery(this).val()),b.testBikeCount(),b.calculate()}),b.testBikeCount(),b.$maxLeasingRateButton.on("click",function(a){return a.preventDefault(),b.getMaxBikePrice(parseFloat(b.$maxLeasingRateInput.val())),!1}),b.$takeoverLeasingRateButton.on("click",function(a){a.preventDefault();b.$elm.find(".lur_bike_price").length;return!!confirm("Es werden die aktuellen Einstellungen für das erste Fahrrad übernommen und alle weiteren Fahrräder gelöscht. Sind Sie sicher?")&&(b.$elm.find(".lur_bike_price").each(function(a,c){a>0?jQuery(c).parents(".lur_content_row_bike").remove():jQuery(c).val(b.maxBikePrice).trigger("change")}),!1)}),b.$maxLeasingRateInput.on("change",function(){b.$maxLeasingRateResult.hide()})},checkVers:function(){var a=this,b=a.$versicherung.val(),c=a.$elm.data("agzuschuss-"+a.$versicherung.val().toLowerCase());a.employersshareStandard<=0&&(void 0!==c&&parseFloat(c)>0?a.$employersshare.val(c):a.$employersshare.val(0)),a.$elm.removeClass("paket-premiumPlus").removeClass("paket-premium").removeClass("paket-basis").removeClass("paket-alt"),a.$elm.addClass("paket-"+b),"alt"==b?a.$elm.find(".lur_content_col_type").removeClass("nodisplay"):a.$elm.find(".lur_content_col_type").addClass("nodisplay")},testBikeCount:function(){var a,b=this,c=b.getBikeCount();return c>=b.maxBikes?b.$addBikeRow.addClass("nodisplay"):b.$addBikeRow.removeClass("nodisplay"),a=c>b.maxBikes,a&&(b.$bikesPopout.addClass("active"),setTimeout(function(){b.$bikesPopout.removeClass("active")},2e3)),a},resetParams:function(){var a=this;a.setEingabeparameter(),a.getBikePrices()},setEingabeparameter:function(){var a,b,c=this,d=c.bmfSteuerRechner;if(d.initParams(),void 0!==c.$selectSteuerklasse?(a=c.$inputSteuerFaktor.val().replace(",","."),d.AF=5==c.$selectSteuerklasse.val()?1:0,d.F=5==c.$selectSteuerklasse.val()?a:1):(d.AF=0,d.F=1),void 0!==c.$switchKirche?(c.kirche=c.$switchKirche.hasClass("opt-yes")?1:0,d.R=c.kirche):(d.R=1,c.kirche=1),void 0!==c.$switchUst?(c.ust=c.$switchUst.hasClass("opt-yes")?0:1,c.$switchUst.hasClass("opt-yes")?c.$elm.removeClass("with-ust"):c.$elm.addClass("with-ust")):c.ust=0,void 0!==c.$inputBruttoLohn?(""!==c.$inputBruttoLohn.val()&&void 0!==c.$inputBruttoLohn.val()?c.lohnBrutto=parseFloat(c.$inputBruttoLohn.val().replace(",",".")):c.lohnBrutto=0,d.RE4=100*c.lohnBrutto):d.RE4=void 0!==c.lohnBrutto?c.lohnBrutto:3e3,isNaN(c.employersshareBikeCount)&&(c.employersshareBikeCount=c.getBikeCount()),void 0!==c.$employersshare)if(""!==c.$employersshare.val()&&void 0!==c.$employersshare.val()){var e=c.employersshareBikeCount<c.getBikeCount()?c.employersshareBikeCount:c.getBikeCount();0===c.employersshareMultiply?c.employersshare=parseFloat(c.$employersshare.val().replace(",",".")):c.employersshare=e*parseFloat(c.$employersshare.val().replace(",","."))}else c.employersshare=0;else c.employersshare=0;c.employersshareAdditional=0,void 0!==c.$employersshareAdditional&&c.$employersshareAdditional.length>0&&c.$employersshareAdditional.each(function(a,b){var d=jQuery(b).find("input").val();""!==d&&void 0!==d&&(c.employersshareAdditional+=parseFloat(d.replace(",",".")))}),void 0!==c.$subventionAdd&&""!==c.$subventionAdd.val()&&void 0!==c.$subventionAdd.val()?c.subventionAdd=parseFloat(c.$subventionAdd.val().replace(",",".")):c.subventionAdd=0,void 0!==c.$subventionInternet&&""!==c.$subventionInternet.val()&&void 0!==c.$subventionInternet.val()?c.subventionInternet=parseFloat(c.$subventionInternet.val().replace(",",".")):c.subventionInternet=0,void 0!==c.$subventionPhone&&""!==c.$subventionPhone.val()&&void 0!==c.$subventionPhone.val()?c.subventionPhone=parseFloat(c.$subventionPhone.val().replace(",",".")):c.subventionPhone=0,c.subvention=c.subventionAdd+c.subventionPhone+c.subventionInternet,void 0!==c.$selectSteuerklasse?(d.STKL=c.$selectSteuerklasse.val(),d.STKL>4&&(d.STKL-=1),c.$switchKinder.hasClass("opt-yes")?d.ZKF=c.$inputKinder.val():d.ZKF=0):(d.STKL=1,d.ZKF=0),void 0!==c.$selectSteuerklasse?d.PVZ="0"==c.$inputKinder.val()?1:0:d.PVZ=1,void 0!==c.$kvZusatz?c.kvZusatz=Math.round(100*parseFloat(c.$kvZusatz.val().replace(",",".")))/1e4:c.kvZusatz=Math.round(d.KVZ)/100,d.KVZ=100*c.kvZusatz,d.PKPV=0,b=(new Date).getFullYear(),c.gebJahr=b-24,d.AJAHR=parseFloat(c.gebJahr)+65,d.ALTER1=b-c.gebJahr>64?1:0,c.$switchBeamte.hasClass("opt-yes")?(c.$krankenkasseRow.hide(),c.$kvZusatzRow.hide(),c.$renteRow.hide(),c.beamte=!0,d.PKV=1,d.KRV=2,c.$elm.addClass("set_wording_beamte")):(c.$krankenkasseRow.show(),c.$kvZusatzRow.show(),c.$renteRow.show(),c.beamte=!1,void 0!==c.$selectKrankenkasse?d.PKV=c.$selectKrankenkasse.val()-1:d.PKV=0,void 0!==c.$selectRente?d.KRV=parseInt(c.$selectRente.val()):d.KRV=0,c.$elm.removeClass("set_wording_beamte")),void 0!==c.$selectBundesland?c.Bundesland=c.$selectBundesland.val():c.Bundesland=void 0!==c.region?c.region:"NRW",d.PVS="SACHSEN"===c.Bundesland?1:0,c.paket=c.$versicherung.val()},calculate:function(a){var b,c=this;c.resetParams(),c.versteuerungsgrundlageOhneBike=c.lohnBrutto-c.subvention,c.lohnNettoOhneBike=c.getLohnNetto(c.versteuerungsgrundlageOhneBike),c.lohnNettoBankOhneBike=c.lohnNettoOhneBike,c.agVers,c.steuernOhneBike=c.steuern,c.lohnSteuerOhneBike=c.lohnSteuer,c.soliOhneBike=c.soli,c.kSteuerOhneBike=c.kSteuer,c.versOhneBike=c.vers,c.kVersOhneBike=c.kVers,c.pVersOhneBike=c.pVers,c.rVersOhneBike=c.rVers,c.aVersOhneBike=c.aVers,c.abgabenOhneBike=c.abgaben,c.resetParams(),b=1===c.ust?c.lohnBrutto-c.leasingPriceBrutto:c.lohnBrutto-c.leasingPriceNetto,c.lohnBruttoBarumwandlung=b-c.subvention+c.employersshare-c.valueAddedTax+c.employersshareAdditional,c.versteuerungsgrundlageMitBike=c.lohnBruttoBarumwandlung+c.percentBikePrice,c.lohnNettoMitBike=c.getLohnNetto(c.versteuerungsgrundlageMitBike),c.lohnNettoBankMitBike=c.lohnNettoMitBike-c.percentBikePrice,c.agVers,c.leasingPriceBarumwandlung=Math.round(100*(c.lohnNettoBankOhneBike-c.lohnNettoBankMitBike))/100;var d=c.getBikeCount();c.reparaturKosten=400*d,c.bikesPriceBruttoPlusReparatur=c.bikesPriceBrutto+c.reparaturKosten,c.leasingPriceBarumwandlung36=36*c.leasingPriceBarumwandlung,c.ersparnis=c.bikesPriceBruttoPlusReparatur-c.leasingPriceBarumwandlung36,c.ersparnisProz=c.roundit(100*(1-c.leasingPriceBarumwandlung36/c.bikesPriceBruttoPlusReparatur),2),c.displayNewPrices(a)},getBikeCount:function(){var a,b=this,c=0;return b.$elm.find(".lur_bike_count").each(function(b,d){a=parseInt(jQuery(d).val()),isNaN(a)||(c+=a)}),c},getBikePrices:function(){function a(a){c.subtractEmployersShareInResult&&(c.$employersshareMinusValue.html(c.germanFormat(-Math.round(100*a)/100)+" &euro;"),a>0?c.$employersshareMinus.css("display","table-row"):c.$employersshareMinus.css("display","none"))}var b,c=this,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0;if(c.versPraemien=[],c.$elm.find(".lur_bike_price").each(function(a,e){if(b=jQuery(e).parents(".lur_content_row"),k=parseFloat(jQuery(e).val().replace(",",".")),l=parseInt(b.find(".lur_bike_count").val()),bikeType=parseInt(b.find(".lur_type").val()),!isNaN(k)){d+=k*l;var m=c.getVerspraemie(k,bikeType);if(h=m/1.19*l,c.noTaxOnInsurance){var n=180;g=1.19*n+(h-n)}else g=1.19*h;j+=g,i+=h,f+=d+g,c.versPraemien.push({netto:h/36,brutto:g/36})}}),c.versBrutto=j,c.versNetto=i,c.bikesPriceBrutto=d,c.bikesMitVersBrutto=f,c.$elm.find(".lur_bike_price-uvp").each(function(a,b){k=parseFloat(jQuery(b).val().replace(",",".")),l=parseInt(jQuery(b).parents(".lur_content_row").find(".lur_bike_count").val()),isNaN(k)||(e+=k*l)}),c.bikesPriceUvpBrutto=e,c.bikesPriceNetto=c.bikesPriceBrutto/1.19,c.priceNettoVers=c.bikesMitVersBrutto/1.19,c.getLeasingPrice(),c.quarterBikesPriceUvpBrutto=c.bikesPriceUvpBrutto/4,c.useFullBikeUvpPrice?c.fractionBikesPriceUvpBrutto=Math.floor(c.bikesPriceUvpBrutto/100):c.fractionBikesPriceUvpBrutto=Math.floor(c.quarterBikesPriceUvpBrutto/100),c.percentBikePrice=Math.floor(c.quarterBikesPriceUvpBrutto/100),c.benefitBase=100*c.percentBikePrice,3===c.employersshareType){var m=c.employerssharePercent/100;c.employersshare=Math.round(c.leasingPriceNetto*m*100)/100,c.$employersshare.val(c.employersshare).attr("value",c.employersshare)}var n=c.employerssharePercent/100;if(4===c.employersshareType){var o=i/36,p=o*n;c.employersshare=Math.round(100*p)/100,c.$employersshare.val(c.employersshare).attr("value",c.employersshare)}if(8===c.employersshareType){var m=c.employerssharePercent2/100;c.employersshare=Math.round(c.priceNettoMonth*m*100)/100,c.$employersshare.val(c.employersshare).attr("value",c.employersshare);var n=c.employerssharePercent/100,o=i/36,p=o*n;c.employersshare=Math.round(100*(c.employersshare+p))/100,c.$employersshare.val(c.employersshare).attr("value",c.employersshare)}if(5===c.employersshareType){var q=c.bikesPriceUvpBrutto*n;c.employersshare=Math.round(100*q)/100,c.$employersshare.val(c.employersshare).attr("value",c.employersshare)}c.valueAddedTax=0,1===c.subtractTaxAfterEmployershare&&(c.valueAddedTax=Math.round(19*c.fractionBikesPriceUvpBrutto/119*100)/100),c.leasingPriceNettoMinusEmployersshare=c.leasingPriceNetto-c.employersshare,c.leasingPriceBruttoMinusEmployersshare=1.19*c.leasingPriceNettoMinusEmployersshare,a(c.employersshare)},getMaxBikePrice:function(a){var b=this;if(!(isNaN(a)||a<0)){for(var c=356,d=2e4,e=c,f=0,g=0;f<a&&e<d;){e++;f=e/1.19*3.27/100+b.getVerspraemie(e,0)/1.19/36,f<a&&(g=e)}return g&&(b.$maxLeasingRateResultNumber.text(b.germanFormat(g)),b.$maxLeasingRateResult.show()),b.maxBikePrice=g,g}},getVerspraemie:function(a,b){var c,d,e,f,g,h=this,i=450;if("alt"===h.paket)switch(!0){case 1===b:switch(!0){case a<=4760:i=450;break;case a>4760&&a<=6e3:i=480;break;case a>6e3&&a<=8e3:i=580;break;case a>8e3:i=670}break;case 0===b:switch(!0){case a<=4760:i=450;break;case a>4760&&a<=6e3:i=550;break;case a>6e3&&a<=8e3:i=670;break;case a>8e3:i=770}break;case 2===b:i=510}else{if(d=h.getPackageValue("leasingInsurancePrices"),f=d[d.length-1],g=d[0],i=g.value,a>g.upto)for(c=d.length-1;c>=0;c--)e=d[c],a<=e.upto&&(i=e.value);a>f.upto&&(i=f.value)}return verspraemieBrutto=1.19*i,verspraemieBrutto},getPackageValue:function(a){for(var b=this,c=b.verspraemie[0][a],d=0;d<b.verspraemie.length;d++)b.paket===b.verspraemie[d].name&&(c=b.verspraemie[d][a]);return c},getLeasingPrice:function(){var a=this;a.getLeasingFactor(),a.priceVersNettoMonth=a.versNetto/36,a.priceVersBruttoMonth=a.versBrutto/36,a.priceNettoMonth=a.bikesPriceNetto*(a.leasingFactor/100),a.priceBruttoMonth=1.19*a.priceNettoMonth,a.leasingPriceNetto=a.priceNettoMonth+a.priceVersNettoMonth,a.leasingPriceBrutto=a.priceBruttoMonth+a.priceVersBruttoMonth},getLeasingFactor:function(){var a,b,c,d,e,f=this,g=3.742;if(1!=f.calctype){b=f.factorObject[f.paket],d=b[b.length-1],e=b[0],g=e.factor;var h=f.priceNettoVers;if((2==f.calctype||f.year>=2018)&&(h=f.bikesPriceNetto),h>e.upto)for(a=b.length-1;a>=0;a--)c=b[a],h<=c.upto&&(g=c.factor);h>d.upto&&(g=d.factor)}else if(1==f.calctype)switch(!0){case f.priceNettoVers<=1e3:g=3.6895;break;case f.priceNettoVers>1e3&&f.priceNettoVers<=2e3:g=3.5475;break;case f.priceNettoVers>2e3&&f.priceNettoVers<=3e3:g=3.4175;break;case f.priceNettoVers>3e3&&f.priceNettoVers<=5e3:g=3.3575;break;case f.priceNettoVers>5e3&&f.priceNettoVers<=7500:g=3.3175;break;case f.priceNettoVers>7500&&f.priceNettoVers<=15e3:g=3.2875;break;case f.priceNettoVers>15e3&&f.priceNettoVers<=25e3:g=3.2375}f.leasingFactor=parseFloat(g)},getLohnNetto:function(a){var a,b=this;b.bmfSteuerRechner;return b.getSteuern(a),b.getVers2025(a),b.abgaben=b.steuern+b.vers,a-b.abgaben},getSteuern:function(a){var b,c=this,d=c.bmfSteuerRechner;d.RE4=100*a,d.func_LST(),c.lohnSteuer=Math.round(d.LSTLZZ)/100,c.soli=Math.round(d.SOLZLZZ)/100,b="BW"===c.Bundesland||"BAYERN"===c.Bundesland?.08:.09,1===c.kirche?c.kSteuer=Math.floor(d.BK*b)/100:c.kSteuer=0,c.steuern=c.lohnSteuer+c.soli+c.kSteuer},getVers2025:function(a){var b=this,c=b.bmfSteuerRechner,d=.026,e=d/2,f=.042,g=0,h=.018,i=f-h,j=0,k=0,l=b.$inputKinder2.val();l>0&&(j=.006,l>1&&(k=l-1,j+=.0025*Math.min(k,5))),j=Math.round(1e4*j)/1e4,i-=j,1==c.PVS&&(i+=g),1==c.PVS&&(h-=g);var m=.146,n=Math.round((m+b.kvZusatz)/2*1e4)/1e4,o=.186,p=o/2,q=5512.5,r=8050,s=8050;c.PKV<1?(kpVersGrundlage=a>q?q:a,b.pVers=kpVersGrundlage*i,b.agPVers=kpVersGrundlage*h,b.kVers=kpVersGrundlage*n):b.kVers=c.PKPV/100,2==c.KRV?b.rVers=0:(arVersGrundlage=a>r?r:a,1==c.KRV&&(arVersGrundlage=a>s?s:a),b.rVers=arVersGrundlage*p,b.aVers=arVersGrundlage*e),(1===b.calctype||b.beamte)&&(b.aVers=0,b.rVers=0,b.kVers=0,b.pVers=0),b.vers=b.aVers+b.rVers+b.kVers+b.pVers,b.agVers=b.aVers+b.rVers+b.kVers+b.agPVers},getVers2023:function(a){var b=this,c=b.bmfSteuerRechner,d=.026,e=d/2,f=.046,g=.005,h=f/2,i=0,j=0,k=b.$inputKinder2.val();k>0&&(i=.006,k>1&&(j=k-1,i+=.0025*Math.min(j,5))),i=Math.round(1e6*i)/1e6,h-=i,1==c.PVS&&(h+=g);var l=.01525;1==c.PVS&&(l-=g);var m=.146,n=Math.round((m+b.kvZusatz)/2*1e5)/1e5,o=.186,p=o/2,q=4987.5,r=7300,s=7100;c.PKV<1?(kpVersGrundlage=a>q?q:a,b.pVers=kpVersGrundlage*h,b.agPVers=kpVersGrundlage*l,b.kVers=kpVersGrundlage*n):b.kVers=c.PKPV/100,2==c.KRV?b.rVers=0:(arVersGrundlage=a>r?r:a,1==c.KRV&&(arVersGrundlage=a>s?s:a),b.rVers=arVersGrundlage*p,b.aVers=arVersGrundlage*e),(1===b.calctype||b.beamte)&&(b.aVers=0,b.rVers=0,b.kVers=0,b.pVers=0),b.vers=b.aVers+b.rVers+b.kVers+b.pVers,b.agVers=b.aVers+b.rVers+b.kVers+b.agPVers},getVers2022:function(a){var b=this,c=b.bmfSteuerRechner,d=.024,e=d/2,f=.0305,g=.005,h=f/2;0==c.ZKF&&c.ALTER1>=23&&(h+=.0035),1==c.PVS&&(h+=g);var i=.01525;1==c.PVS&&(i-=g);var j=.146,k=(j+b.kvZusatz)/2,l=.186,m=l/2,n=4837.5,o=7050,p=6750;c.PKV<1?(kpVersGrundlage=a>n?n:a,b.pVers=kpVersGrundlage*h,b.agPVers=kpVersGrundlage*i,b.kVers=kpVersGrundlage*k):b.kVers=c.PKPV/100,2==c.KRV?b.rVers=0:(arVersGrundlage=a>o?o:a,1==c.KRV&&(arVersGrundlage=a>p?p:a),b.rVers=arVersGrundlage*m,b.aVers=arVersGrundlage*e),(1===b.calctype||b.beamte)&&(b.aVers=0,b.rVers=0,b.kVers=0,b.pVers=0),b.vers=b.aVers+b.rVers+b.kVers+b.pVers,b.agVers=b.aVers+b.rVers+b.agPVers+b.kVers},validate:function(){var a,b,c,d=this,e=d.$inputBruttoLohn.val().replace(",",".");return d.$inputPrice.addClass("error"),d.$inputBruttoLohn.addClass("error"),d.$selectBundesland.addClass("error"),d.$inputSteuerFaktor.addClass("error"),d.$inputKinder.addClass("error"),d.$employersshare.attr("disabled")||d.$employersshare.addClass("error"),a=!1,""==d.$inputPrice.val()?a=!0:d.$inputPrice.removeClass("error"),e<=0||isNaN(e)?a=!0:d.$inputBruttoLohn.removeClass("error"),c=parseFloat(d.$inputSteuerFaktor.val().replace(",",".")),5==d.$selectSteuerklasse.val()&&(c<=0||c>1||isNaN(c))?a=!0:d.$inputSteuerFaktor.removeClass("error"),void 0!==d.$employersshare&&void 0!==d.$employersshare.val()&&(b=parseFloat(d.$employersshare.val().replace(",","."))),void 0!==b&&!d.$employersshare.attr("disabled")&&(isNaN(b)||b<0)?a=!0:d.$employersshare.removeClass("error"),d.$switchKirche.hasClass("opt-yes")&&"WAHL"===d.$selectBundesland.val()&&(a=!0),0===d.$selectBundesland.prop("selectedIndex")?a=!0:d.$selectBundesland.removeClass("error"),d.$inputPrivKrankenkassenBeitrag.val()<0||NaN===d.$inputPrivKrankenkassenBeitrag.val()||d.$inputPrivKrankenkassenBeitrag.val(),d.$switchKinder.hasClass("opt-yes")&&(NaN===d.$inputKinder.val()||d.$inputKinder.val()<0)?a=!0:d.$inputKinder.removeClass("error"),!a},displayNewPrices:function(a){var b,c,d,e,f,g,h=this;leasingPrice=h.germanFormat(h.extendDecimalNumbers(h.priceBruttoMonth))+" &euro;",leasingPriceNetto=h.germanFormat(h.extendDecimalNumbers(h.priceNettoMonth))+" &euro;",h.$outputLeasingMonat.html(leasingPrice),h.$outputLeasingMonatNetto.html(leasingPriceNetto),h.$elm.find(".versRow").remove(),c=h.$leasingRow,jQuery.each(h.versPraemien,function(a,f){d=h.germanFormat(h.extendDecimalNumbers(f.brutto))+" &euro;",e=h.germanFormat(h.extendDecimalNumbers(f.netto))+" &euro;",b=h.$versRow.clone(),b.find(".lur_vers_monat").html(d),b.find(".bikeNoFooter").html(a+1),b.find(".lur_versmonat_netto").html(e),b.insertAfter(c),c=b}),h.subtractEmployersShareInResult?(f=h.extendDecimalNumbers(h.leasingPriceBruttoMinusEmployersshare)+" &euro;",g=h.extendDecimalNumbers(h.leasingPriceNettoMinusEmployersshare)+" &euro;"):(f=h.extendDecimalNumbers(h.leasingPriceBrutto)+" &euro;",g=h.extendDecimalNumbers(h.leasingPriceNetto)+" &euro;"),h.$outputSummeMonat.html(h.germanFormat(f)+" &euro;"),h.$outputSummeMonatNetto.html(h.germanFormat(g)+" &euro;"),a||(h.validate()?(h.$outputLeasingUmlage.html(h.germanFormat(h.extendDecimalNumbers(h.roundit(h.leasingPriceBarumwandlung,2)))+" &euro;"),h.$outputErsparnisProzent.html(h.germanFormat(h.ersparnisProz)+"%"),h.$outputErsparnisAbsolut.html(h.germanFormat(h.extendDecimalNumbers(h.ersparnis))+" &euro;"),h.$calcTable.find("#bike-brutto").find(".value").text(h.germanFormat(h.bikesPriceUvpBrutto)),h.$calcTable.find("#bike-brutto-half").find(".value").text(h.germanFormat(h.quarterBikesPriceUvpBrutto)),h.$calcTable.find("#bike-brutto-2").find(".value").text(h.germanFormat(h.bikesPriceBrutto)),h.$calcTable.find("#benefit-base").find(".value").text(h.germanFormat(h.benefitBase)),h.$calcTable.find("#monetary-benefit, #monetary-benefit-2").find(".value").text(h.germanFormat(h.percentBikePrice)),h.$calcTable.find("#monetary-benefit-3, #monetary-benefit-4").find(".col-1 .value").text(h.germanFormat(0)),h.$calcTable.find("#monetary-benefit-3, #monetary-benefit-4").find(".col-2 .value").text(h.germanFormat(h.percentBikePrice)),h.$calcTable.find("#brutto").find(".value").text(h.germanFormat(h.lohnBrutto)),h.$calcTable.find("#leasing").find(".col-1 .value").text(h.germanFormat(0)),h.$calcTable.find("#leasing").find(".col-2 .value").text(h.germanFormat(1===h.ust?f:g)),h.$calcTable.find("#subventions").find(".value").text(h.germanFormat(h.subvention)),h.$calcTable.find("#employersshare").find(".col-1 .value").text(h.germanFormat(0)),h.$calcTable.find("#employersshare").find(".col-2 .value").text(h.germanFormat(h.employersshare)),h.$calcTable.find(".employersshare").remove(),h.$employersshareAdditional.each(function(a,b){h.$employersshareRow=h.$calcTable.find("#employersshare").clone();var c=parseFloat(jQuery(b).find("input").val());h.$employersshareRow.attr("id","").attr("class","employersshare employersshare"+a).find(".col-2 .value").text(h.germanFormat(c)),h.$employersshareRow.find(".col-1 .value").text(h.germanFormat(0)),h.$employersshareRow.find("td:first-child").text(jQuery(b).find(".lur_content_label").text()),h.$calcTable.find("#employersshare").after(h.$employersshareRow)}),h.$calcTable.find("#subtract_tax_after_employershare").find(".col-1 .value").text(h.germanFormat(0)),h.$calcTable.find("#subtract_tax_after_employershare").find(".col-2 .value").text(h.germanFormat(h.valueAddedTax)),h.$calcTable.find("#brutto-2").find(".col-1 .value").text(h.germanFormat(h.lohnBrutto)),h.$calcTable.find("#brutto-2").find(".col-2 .value").text(h.germanFormat(h.lohnBruttoBarumwandlung)),h.$calcTable.find("#tax-base").find(".col-1 .value").text(h.germanFormat(h.versteuerungsgrundlageOhneBike)),h.$calcTable.find("#tax-base").find(".col-2 .value").text(h.germanFormat(h.versteuerungsgrundlageMitBike)),h.$calcTable.find("#taxes").find(".col-1 .value").text(h.germanFormat(h.abgabenOhneBike)),h.$calcTable.find("#taxes").find(".col-2 .value").text(h.germanFormat(h.abgaben)),h.$calcTable.find("#tax").find(".col-1 .value").text(h.germanFormat(h.steuernOhneBike)),h.$calcTable.find("#tax").find(".col-2 .value").text(h.germanFormat(h.steuern)),h.$calcTable.find("#income").find(".col-1 .value").text(h.germanFormat(h.lohnSteuerOhneBike)),h.$calcTable.find("#income").find(".col-2 .value").text(h.germanFormat(h.lohnSteuer)),h.$calcTable.find("#solidarity").find(".col-1 .value").text(h.germanFormat(h.soliOhneBike)),h.$calcTable.find("#solidarity").find(".col-2 .value").text(h.germanFormat(h.soli)),h.$calcTable.find("#church").find(".col-1 .value").text(h.germanFormat(h.kSteuerOhneBike)),h.$calcTable.find("#church").find(".col-2 .value").text(h.germanFormat(h.kSteuer)),h.$calcTable.find("#insurance-contributions").find(".col-1 .value").text(h.germanFormat(h.versOhneBike)),h.$calcTable.find("#insurance-contributions").find(".col-2 .value").text(h.germanFormat(h.vers)),h.$calcTable.find("#pension").find(".col-1 .value").text(h.germanFormat(h.rVersOhneBike)),h.$calcTable.find("#pension").find(".col-2 .value").text(h.germanFormat(h.rVers)),h.$calcTable.find("#health").find(".col-1 .value").text(h.germanFormat(h.kVersOhneBike)),h.$calcTable.find("#health").find(".col-2 .value").text(h.germanFormat(h.kVers)),h.$calcTable.find("#care").find(".col-1 .value").text(h.germanFormat(h.pVersOhneBike)),h.$calcTable.find("#care").find(".col-2 .value").text(h.germanFormat(h.pVers)),h.$calcTable.find("#unemployment").find(".col-1 .value").text(h.germanFormat(h.aVersOhneBike)),h.$calcTable.find("#unemployment").find(".col-2 .value").text(h.germanFormat(h.aVers)),h.$calcTable.find("#netto").find(".col-1 .value").text(h.germanFormat(h.lohnNettoOhneBike)),h.$calcTable.find("#netto").find(".col-2 .value").text(h.germanFormat(h.lohnNettoMitBike)),h.$calcTable.find("#netto-1").find(".col-1 .value").text(h.germanFormat(h.lohnNettoBankOhneBike)),h.$calcTable.find("#netto-1").find(".col-2 .value").text(h.germanFormat(h.lohnNettoBankMitBike)),h.$calcTable.find("#bike-brutto-3").find(".value").text(h.germanFormat(h.annschaffungsPreisVers)),h.$calcTable.find("#netto-2").find(".value").text(h.germanFormat(h.leasingPriceBarumwandlung)),h.$calcTable.find("#total-leasing-36").find(".value").text(h.germanFormat(36*h.leasingPriceBarumwandlung)),h.$calcTable.find("#price-rest").find(".value").text(h.germanFormat(h.bikeRestwert)),h.$calcTable.find("#bike-brutto-4").find(".value").text(h.germanFormat(h.costsAfterTime)),h.$calcTable.find("#saving-buy").find(".value").text(h.germanFormat(h.savingsBuy)),h.$calcTable.find("#leasing-2").find(".value").text(h.germanFormat(h.leasingPriceBrutto)),h.$calcTable.find("#leasing-umwandlung").find(".value").text(h.germanFormat(h.leasingPriceBarumwandlung)),h.$calcTable.find("#savings-leasing-monthly").find(".value").text(h.germanFormat(h.ersparnis)),h.$calcTable.find("#savings-leasing-36").find(".value").text(h.germanFormat(h.ersparnis36)),h.$calcTable.find("#savings-leasing-percent").find(".value").text(h.germanFormat(h.ersparnisProz)),$showTables=jQuery("#show-tables"),jQuery($showTables.data("show")).addClass("active"),$showTables.text($showTables.data("text-active"))):(h.$outputLeasingUmlage.html("-- &euro;"),h.$outputErsparnisProzent.html("-- %"),h.$outputErsparnisAbsolut.html("-- &euro;")))},extendDecimalNumbers:function(a){var b=(""+a).split(".");return 2==b.length&&1==b[1].length?a+"0":1==b.length?a+".00":a},roundit:function(a,b){return Math.round(100*a)/Math.pow(10,b)},germanFormat:function(a){return parseFloat(parseFloat(a).toFixed(2)).toLocaleString("de-DE",{minimumFractionDigits:2})}};