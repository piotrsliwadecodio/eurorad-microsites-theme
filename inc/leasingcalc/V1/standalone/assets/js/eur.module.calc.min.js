function detectIE(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);var c=a.indexOf("Trident/");if(c>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var e=a.indexOf("Edge/");return e>0?parseInt(a.substring(e+5,a.indexOf(".",e)),10):!1}jQuery(function(a){var b;a(function(){init()}),init=function(){a("#lur_main_layout").length>0&&(a("#calculator-container").length>0&&a("#calculator-container").append(a("#lur_main_layout")),b=new LeasingCalculator(a("#lur_main_layout"))),a(".expand-btn").on("click",function(b){return b.preventDefault(),a(a(this).data("show")).toggleClass("active"),a(a(this).data("hide")).removeClass("active"),a(this).text(a(a(this).data("show")).hasClass("active")?a(this).data("text-active"):a(this).data("text")),!1}),detectIE()||a("input[type=number]").attr("type","text")}});var BmfSteuerRechner=function(a){this.init(a)};BmfSteuerRechner.prototype={init:function(a){var b=this;b.$elm=a,b.debugmode=!1,b.prepareDataObject()},prepareDataObject:function(){var a=this;a.AF=0,a.AJAHR=0,a.ALTER1=0,a.ENTSCH=0,a.F=1,a.JFREIB=0,a.JHINZU=0,a.JRE4=0,a.JRE4ENT=0,a.JVBEZ=0,a.KRV=0,a.KVZ=1.1,a.LZZ=2,a.LZZFREIB=0,a.LZZHINZU=0,a.PKPV=0,a.PKV=0,a.PVS=0,a.PVZ=0,a.R=0,a.RE4=0,a.SONSTB=0,a.SONSTENT=0,a.STERBE=0,a.STKL=0,a.VBEZ=0,a.VBEZM=0,a.VBEZS=0,a.VBS=0,a.VJAHR=0,a.VKAPA=0,a.VMT=0,a.ZKF=0,a.ZMVB=0,a.LST1,a.LST2,a.LST3,a.LSTOSO,a.LSTSO=0,a.BK=0,a.BKS=0,a.BKV=0,a.LSTLZZ=0,a.SOLZLZZ=0,a.SOLZS=0,a.SOLZV=0,a.STS=0,a.STV=0,a.VKVLZZ=0,a.VKVSONST=0,a.VFRB=0,a.VFRBS1=0,a.VFRBS2=0,a.WVFRB=0,a.WVFRB=0,a.WVFRBM=0,a.ALTE=0,a.ANP=0,a.ANTEIL1=0,a.BMG=0,a.BBGKVPV=0,a.BBGRV=0,a.DIFF=0,a.EFA=0,a.FVB=0,a.FVBSO=0,a.FVBZ=0,a.FVBZSO=0,a.GFB=0,a.HBALTE=0,a.HFVB=0,a.HFVBZ=0,a.HFVBZSO=0,a.HOCH=0,a.J=0,a.JBMG=0,a.JLFREIB=0,a.JLHINZU=0,a.JW=0,a.K=0,a.KENNVMT=0,a.KFB=0,a.KVSATZAG=0,a.KVSATZAN=0,a.KZTAB=0,a.LSTJAHR=0,a.LST1,a.LST2,a.LST3,a.LSTOSO,a.LSTSO=0,a.MIST=0,a.PVSATZAG=0,a.PVSATZAN=0,a.RVSATZAN=0,a.RW=0,a.SAP=0,a.SOLZFREI=0,a.SOLZJ=0,a.SOLZMIN=0,a.ST=0,a.ST1=0,a.ST2=0,a.STOVMT=0,a.TBSVORV=0,a.VBEZB=0,a.VBEZBSO=0,a.VERGL=0,a.VHB=0,a.VKV=0,a.VSP=0,a.VSPN=0,a.VSP1=0,a.VSP2=0,a.VSP3=0,a.W1STKL5=0,a.W2STKL5=0,a.W3STKL5=0,a.X=0,a.Y=0,a.ZRE4=0,a.ZRE4J=0,a.ZRE4VP=0,a.ZTABFB=0,a.ZVBEZ=0,a.ZVBEZJ=0,a.ZVE=0,a.ZX=0,a.ZZX=0,a.RVERS=0,a.KVERS=0,a.PVERS=0,a.AVERS=0,a.varTab1=new Array,a.varTab1[0]=0,a.varTab1[1]=.4,a.varTab1[2]=.384,a.varTab1[3]=.368,a.varTab1[4]=.352,a.varTab1[5]=.336,a.varTab1[6]=.32,a.varTab1[7]=.304,a.varTab1[8]=.288,a.varTab1[9]=.272,a.varTab1[10]=.256,a.varTab1[11]=.24,a.varTab1[12]=.224,a.varTab1[13]=.208,a.varTab1[14]=.192,a.varTab1[15]=.176,a.varTab1[16]=.16,a.varTab1[17]=.152,a.varTab1[18]=.144,a.varTab1[19]=.136,a.varTab1[20]=.128,a.varTab1[21]=.12,a.varTab1[22]=.112,a.varTab1[23]=.104,a.varTab1[24]=.096,a.varTab1[25]=.088,a.varTab1[26]=.08,a.varTab1[27]=.072,a.varTab1[28]=.064,a.varTab1[29]=.056,a.varTab1[30]=.048,a.varTab1[31]=.04,a.varTab1[32]=.032,a.varTab1[33]=.024,a.varTab1[34]=.016,a.varTab1[35]=.008,a.varTab1[36]=0,a.varTab2=new Array,a.varTab2[0]=0,a.varTab2[1]=3e3,a.varTab2[2]=2880,a.varTab2[3]=2760,a.varTab2[4]=2640,a.varTab2[5]=2520,a.varTab2[6]=2400,a.varTab2[7]=2280,a.varTab2[8]=2160,a.varTab2[9]=2040,a.varTab2[10]=1920,a.varTab2[11]=1800,a.varTab2[12]=1680,a.varTab2[13]=1560,a.varTab2[14]=1440,a.varTab2[15]=1320,a.varTab2[16]=1200,a.varTab2[17]=1140,a.varTab2[18]=1080,a.varTab2[19]=1020,a.varTab2[20]=960,a.varTab2[21]=900,a.varTab2[22]=840,a.varTab2[23]=780,a.varTab2[24]=720,a.varTab2[25]=660,a.varTab2[26]=600,a.varTab2[27]=540,a.varTab2[28]=480,a.varTab2[29]=420,a.varTab2[30]=360,a.varTab2[31]=300,a.varTab2[32]=240,a.varTab2[33]=180,a.varTab2[34]=120,a.varTab2[35]=60,a.varTab2[36]=0,a.varTab3=new Array,a.varTab3[0]=0,a.varTab3[1]=900,a.varTab3[2]=864,a.varTab3[3]=828,a.varTab3[4]=792,a.varTab3[5]=756,a.varTab3[6]=720,a.varTab3[7]=684,a.varTab3[8]=648,a.varTab3[9]=612,a.varTab3[10]=576,a.varTab3[11]=540,a.varTab3[12]=504,a.varTab3[13]=468,a.varTab3[14]=432,a.varTab3[15]=396,a.varTab3[16]=360,a.varTab3[17]=342,a.varTab3[18]=324,a.varTab3[19]=306,a.varTab3[20]=288,a.varTab3[21]=270,a.varTab3[22]=252,a.varTab3[23]=234,a.varTab3[24]=216,a.varTab3[25]=198,a.varTab3[26]=180,a.varTab3[27]=162,a.varTab3[28]=144,a.varTab3[29]=126,a.varTab3[30]=108,a.varTab3[31]=90,a.varTab3[32]=72,a.varTab3[33]=54,a.varTab3[34]=36,a.varTab3[35]=18,a.varTab3[36]=0,a.varTab4=new Array,a.varTab4[0]=0,a.varTab4[1]=.4,a.varTab4[2]=.384,a.varTab4[3]=.368,a.varTab4[4]=.352,a.varTab4[5]=.336,a.varTab4[6]=.32,a.varTab4[7]=.304,a.varTab4[8]=.288,a.varTab4[9]=.272,a.varTab4[10]=.256,a.varTab4[11]=.24,a.varTab4[12]=.224,a.varTab4[13]=.208,a.varTab4[14]=.192,a.varTab4[15]=.176,a.varTab4[16]=.16,a.varTab4[17]=.152,a.varTab4[18]=.144,a.varTab4[19]=.136,a.varTab4[20]=.128,a.varTab4[21]=.12,a.varTab4[22]=.112,a.varTab4[23]=.104,a.varTab4[24]=.096,a.varTab4[25]=.088,a.varTab4[26]=.08,a.varTab4[27]=.072,a.varTab4[28]=.064,a.varTab4[29]=.056,a.varTab4[30]=.048,a.varTab4[31]=.04,a.varTab4[32]=.032,a.varTab4[33]=.024,a.varTab4[34]=.016,a.varTab4[35]=.008,a.varTab4[36]=0,a.varTab5=new Array,a.varTab5[0]=0,a.varTab5[1]=1900,a.varTab5[2]=1824,a.varTab5[3]=1748,a.varTab5[4]=1672,a.varTab5[5]=1596,a.varTab5[6]=1520,a.varTab5[7]=1444,a.varTab5[8]=1368,a.varTab5[9]=1292,a.varTab5[10]=1216,a.varTab5[11]=1140,a.varTab5[12]=1064,a.varTab5[13]=988,a.varTab5[14]=912,a.varTab5[15]=836,a.varTab5[16]=760,a.varTab5[17]=722,a.varTab5[18]=684,a.varTab5[19]=646,a.varTab5[20]=608,a.varTab5[21]=570,a.varTab5[22]=532,a.varTab5[23]=494,a.varTab5[24]=456,a.varTab5[25]=418,a.varTab5[26]=380,a.varTab5[27]=342,a.varTab5[28]=304,a.varTab5[29]=266,a.varTab5[30]=228,a.varTab5[31]=190,a.varTab5[32]=152,a.varTab5[33]=114,a.varTab5[34]=76,a.varTab5[35]=38,a.varTab5[36]=0},TAB1:function(a){var b=this;return b.varTab1[a]},TAB2:function(a){var b=this;return b.varTab2[a]},TAB3:function(a){var b=this;return b.varTab3[a]},TAB4:function(a){var b=this;return b.varTab4[a]},TAB5:function(a){var b=this;return b.varTab5[a]},func_MPARA:function(){var a=this;a.KRV<2&&(a.BBGRV=0===a.KRV?64800:74400,a.RVSATZAN=.0935,a.TBSVORV=.64),a.BBGKVPV=50850,a.KVSATZAN=a.KVZ/100+.07,a.KVSATZAG=.07,1===a.PVS?(a.PVSATZAN=.01675,a.PVSATZAG=.00675):(a.PVSATZAN=.01175,a.PVSATZAG=.01175),1===a.PVZ&&(a.PVSATZAN=a.PVSATZAN+.0025),a.W1STKL5=10070,a.W2STKL5=26832,a.W3STKL5=203557,a.GFB=8652,a.SOLZFREI=972},func_MRE4JL:function(){var a=this,b=1;b=1==a.LZZ?1:2==a.LZZ?12:3==a.LZZ?360/7:360,a.ZRE4J=a.RE4*b/100,a.ZVBEZJ=a.VBEZ*b/100,a.JLFREIB=a.LZZFREIB*b/100,a.JLHINZU=a.LZZHINZU*b/100,0==a.AF&&(a.F=1)},func_MRE4ALTE:function(){var a=this;0==a.ALTER1?a.ALTE=0:(a.K=a.AJAHR<2006?1:a.AJAHR<2040?a.AJAHR-2004:36,a.BMG=a.ZRE4J-a.ZVBEZJ,a.ALTE=Math.ceil(a.BMG*a.TAB4(a.K)),a.HBALTE=a.TAB5(a.K),a.ALTE>a.HBALTE&&(a.ALTE=a.HBALTE))},func_MRE4:function(){var a=this;0==a.ZVBEZJ?(a.FVBZ=0,a.FVB=0,a.FVBZSO=0,a.FVBSO=0):(a.J=a.VJAHR<2006?1:a.VJAHR<2040?a.VJAHR-2004:36,1==a.LZZ?(a.VBEZB=a.VBEZM*a.ZMVB+a.VBEZS,a.HFVB=a.TAB2(a.J)/12*a.ZMVB,a.FVBZ=Math.ceil(a.TAB3(a.J)/12*a.ZMVB)):(a.VBEZB=12*a.VBEZM+a.VBEZS,a.HFVB=a.TAB2(a.J),a.FVBZ=a.TAB3(a.J)),a.FVB=a.decimalCeil(a.VBEZB*a.TAB1(a.J)/100,2),a.FVB>a.HFVB&&(a.FVB=a.HFVB),a.FVB>a.ZVBEZJ&&(a.FVB=a.ZVBEZJ),a.FVBSO=a.decimalCeil(a.FVB+a.VBEZBSO*a.TAB1(a.J)/100,2),a.FVBSO>a.TAB2(a.J)&&(a.FVBSO=a.TAB2(a.J)),a.HFVBZSO=(a.VBEZB+a.VBEZBSO)/100-a.FVBSO,a.FVBZSO=Math.ceil(a.FVBZ+a.VBEZBSO/100),a.FVBZSO>a.HFVBZSO&&(a.FVBZSO=Math.ceil(a.HFVBZSO)),a.FVBZSO>a.TAB3(a.J)&&(a.FVBZSO=a.TAB3(a.J)),a.HFVBZ=a.VBEZB/100-a.FVB,a.FVBZ>a.HFVBZ&&(a.FVBZ=Math.ceil(a.HFVBZ))),a.func_MRE4ALTE()},func_MRE4ABZ:function(){var a=this;a.ZRE4=a.ZRE4J-a.FVB-a.ALTE-a.JLFREIB+a.JLHINZU,a.ZRE4<0&&(a.ZRE4=0),a.ZRE4VP=a.ZRE4J,2==a.KENNVMT&&(a.ZRE4VP=a.ZRE4VP-a.ENTSCH/100),a.ZVBEZ=a.ZVBEZJ-a.FVB,a.ZVBEZ<0&&(a.ZVBEZ=0)},func_MBERECH:function(){var a=this;a.func_MZTABFB(),a.VFRB=100*(a.ANP+a.FVB+a.FVBZ),a.func_MLSTJAHR(),a.WVFRB=100*(a.ZVE-a.GFB),a.WVFRB<0&&(a.WVFRB=0),a.LSTJAHR=a.ST*a.F,a.func_UPLSTLZZ(),a.func_UPVKVLZZ(),a.ZKF>0?(a.ZTABFB=a.ZTABFB+a.KFB,a.func_MRE4ABZ(),a.func_MLSTJAHR(),a.JBMG=a.ST*a.F):a.JBMG=a.LSTJAHR,a.func_MSOLZ()},func_MZTABFB:function(){var a=this;a.ANP=0,a.ZVBEZ>=0&&a.ZVBEZ<a.FVBZ&&(a.FVBZ=a.ZVBEZ),a.STKL<6?a.ZVBEZ>0&&(a.ANP=a.ZVBEZ-a.FVBZ<102?Math.ceil(a.ZVBEZ-a.FVBZ):102):(a.FVBZ=0,a.FVBZSO=0),a.STKL<6&&a.ZRE4>a.ZVBEZ&&(a.ANP=a.ZRE4-a.ZVBEZ<1e3?Math.ceil(a.ANP+a.ZRE4-a.ZVBEZ):a.ANP+1e3),a.KZTAB=1,1==a.STKL?(a.SAP=36,a.KFB=7248*a.ZKF):2==a.STKL?(a.EFA=1908,a.SAP=36,a.KFB=7248*a.ZKF):3==a.STKL?(a.KZTAB=2,a.SAP=36,a.KFB=7248*a.ZKF):4==a.STKL?(a.SAP=36,a.KFB=3624*a.ZKF):5==a.STKL?(a.SAP=36,a.KFB=0):a.KFB=0,a.ZTABFB=a.EFA+a.ANP+a.SAP+a.FVBZ},func_UPMLST:function(){var a=this;a.ZVE<1?(a.ZVE=0,a.X=0):a.X=Math.floor(a.ZVE/a.KZTAB),a.STKL<5?a.func_UPTAB16():a.func_MST5_6()},func_UPANTEIL:function(){var a=this;a.ANTEIL1=1==a.LZZ?a.JW:2==a.LZZ?a.decimalFloor(a.JW/12,2):3==a.LZZ?a.decimalFloor(7*a.JW/360,2):a.decimalFloor(a.JW/360,2),console.log(a.JW)},func_UPLSTLZZ:function(){var a=this;a.JW=100*a.LSTJAHR,a.func_UPANTEIL(),a.LSTLZZ=a.ANTEIL1},func_UPVKV:function(){var a=this;a.VKV=a.PKV>0?a.VSP2>a.VSP3?100*a.VSP2:100*a.VSP3:0},func_UPVKVLZZ:function(){var a=this;a.func_UPVKV(),a.JW=a.VKV,a.func_UPANTEIL(),a.VKVLZZ=a.ANTEIL1},func_MSOLZ:function(){var a=this;a.SOLZFREI=a.SOLZFREI*a.KZTAB,a.JBMG>a.SOLZFREI?(a.SOLZJ=a.decimalFloor(5.5*a.JBMG/100,2),a.SOLZMIN=20*(a.JBMG-a.SOLZFREI)/100,a.SOLZMIN<a.SOLZJ&&(a.SOLZJ=a.SOLZMIN),a.JW=100*a.SOLZJ,a.func_UPANTEIL(),a.SOLZLZZ=a.ANTEIL1):a.SOLZLZZ=0,a.R>0?(a.JW=100*a.JBMG,a.func_UPANTEIL(),a.BK=a.ANTEIL1):a.BK=0},func_UP5_6:function(){var a=this;a.X=1.25*a.ZX,a.func_UPTAB16(),a.ST1=a.ST,a.X=.75*a.ZX,a.func_UPTAB16(),a.ST2=a.ST,a.DIFF=2*(a.ST1-a.ST2),a.MIST=Math.floor(.14*a.ZX),a.ST=a.MIST>a.DIFF?a.MIST:a.DIFF},func_MST5_6:function(){var a=this;a.ZZX=a.X,a.ZZX>a.W2STKL5?(a.ZX=a.W2STKL5,a.func_UP5_6(),a.ZZX>a.W3STKL5?(a.ST=Math.floor(a.ST+.42*(a.W3STKL5-a.W2STKL5)),a.ST=Math.floor(a.ST+.45*(a.ZZX-a.W3STKL5))):a.ST=Math.floor(a.ST+.42*(a.ZZX-a.W2STKL5))):(a.ZX=a.ZZX,a.func_UP5_6(),a.ZZX>a.W1STKL5&&(a.VERGL=a.ST,a.ZX=a.W1STKL5,a.func_UP5_6(),a.HOCH=Math.floor(a.ST+.42*(a.ZZX-a.W1STKL5)),a.ST=a.HOCH<a.VERGL?a.HOCH:a.VERGL))},func_MVSP:function(){var a=this;a.ZRE4VP>a.BBGKVPV&&(a.ZRE4VP=a.BBGKVPV),a.PKV>0?(6==a.STKL?a.VSP3=0:(a.VSP3=12*a.PKPV/100,2==a.PKV&&(a.VSP3=a.VSP3-a.ZRE4VP*(a.KVSATZAG+a.PVSATZAG))),a.KVERS=0,a.PVERS=0):a.VSP3=a.ZRE4VP*(a.KVSATZAN+a.PVSATZAN),a.VSP=Math.ceil(a.VSP3+a.VSP1)},func_UPEVP:function(){var a=this;a.KRV>1?a.VSP1=0:(a.ZRE4VP>a.BBGRV&&(a.ZRE4VP=a.BBGRV),a.VSP1=a.TBSVORV*a.ZRE4VP,a.VSP1*=a.RVSATZAN),a.VSP2=.12*a.ZRE4VP,a.VHB=3==a.STKL?3e3:1900,a.VSP2>a.VHB&&(a.VSP2=a.VHB),a.VSPN=Math.ceil(a.VSP1+a.VSP2),a.func_MVSP(),a.VSPN>a.VSP&&(a.VSP=a.VSPN),a.AVERS=.015*a.ZRE4VP},func_UPTAB16:function(){var a=this;a.X<a.GFB+1?a.ST=0:a.X<13670?(a.Y=(a.X-a.GFB)/1e4,a.RW=993.62*a.Y,a.RW=a.RW+1400,a.ST=Math.floor(a.RW*a.Y)):a.X<53666?(a.Y=(a.X-13669)/1e4,a.RW=225.4*a.Y,a.RW=a.RW+2397,a.RW=a.RW*a.Y,a.ST=Math.floor(a.RW+952.48)):a.ST=Math.floor(a.X<254447?.42*a.X-8394.14:.45*a.X-16027.52),a.ST=a.ST*a.KZTAB},func_MLSTJAHR:function(){var a=this;a.func_UPEVP(),1!==a.KENNVMT?(a.ZVE=a.ZRE4-a.ZTABFB-a.VSP,a.func_UPMLST()):(a.ZVE=a.ZRE4-a.ZTABFB-a.VSP-a.VMT/100-a.VKAPA/100,a.ZVE<0?(a.ZVE=(a.ZVE+a.VMT/100+a.VKAPA/100)/5,a.func_UPMLST(),a.ST*=5):(a.func_UPMLST(),a.STOVMT=a.ST,a.ZVE=a.ZVE+(a.VMT+a.VKAPA)/500,a.func_UPMLST(),a.ST=5*(a.ST-a.STOVMT)+a.STOVMT))},func_MSONST:function(){var a=this;a.LZZ=1,0==a.ZMVB&&(a.ZMVB=12),0==a.SONSTB?(a.VKVSONST=0,a.LSTSO=0,a.STS=0,a.SOLZS=0,a.BKS=0):(a.func_MOSONST(),a.func_UPVKV(),a.VKVSONST=a.VKV,a.ZRE4J=(a.JRE4+a.SONSTB)/100,a.ZVBEZJ=(a.JVBEZ+a.VBS)/100,a.VBEZBSO=a.STERBE,a.func_MRE4SONST(),a.func_MLSTJAHR(),a.WVFRBM=100*(a.ZVE-a.GFB),a.WVFRBM<0&&(a.WVFRBM=0),a.func_UPVKV(),a.VKVSONST=a.VKV-a.VKVSONST,a.LSTSO=100*a.ST,a.STS=Math.floor((a.LSTSO-a.LSTOSO)*a.F),a.STS<0&&(a.STS=0),a.SOLZS=a.decimalFloor(5.5*a.STS/100,2),a.BKS=a.R>0?a.STS:0)},func_MRE4SONST:function(){var a=this;a.func_MRE4(),a.FVB=a.FVBSO,a.func_MRE4ABZ(),a.ZRE4VP=a.ZRE4VP-a.JRE4ENT/100-a.SONSTENT/100,a.FVBZ=a.FVBZSO,a.func_MZTABFB(),a.VFRBS2=100*(a.ANP+a.FVB+a.FVBZ)-a.VFRBS1},func_MOSONST:function(){var a=this;a.ZRE4J=a.JRE4/100,a.ZVBEZJ=a.JVBEZ/100,a.JLFREIB=a.JFREIB/100,a.JLHINZU=a.JHINZU/100,a.func_MRE4(),a.func_MRE4ABZ(),a.ZRE4VP=a.ZRE4VP-a.JRE4ENT/100,a.func_MZTABFB(),a.VFRBS1=100*(a.ANP+a.FVB+a.FVBZ),a.func_MLSTJAHR(),a.WVFRBO=100*(a.ZVE-a.GFB),a.WVFRBO<0&&(a.WVFRBO=0),a.LSTOSO=100*a.ST},func_MVMT:function(){var a=this;a.VKAPA<0&&(a.VKAPA=0),a.VMT+a.VKAPA>0?(0==a.LSTSO?(a.func_MOSONST(),a.LST1=a.LSTOSO):a.SLT1=a.LSTSO,a.VBEZBSO=a.STERBE+a.VKAPA,a.ZRE4J=(a.JRE4+a.SONSTB+a.VMT+a.VKAPA)/100,a.ZVBEZJ=(a.JVBEZ+a.VBS+a.VKAPA)/100,a.KENNVMT=2,a.func_MRE4SONST(),a.func_MLSTJAHR(),a.LST3=100*a.ST,a.func_MRE4ABZ(),a.ZRE4VP=a.ZRE4VP-a.JRE4ENT/100-a.SONSTENT/100,a.KENNVMT=1,a.func_MLSTJAHR(),a.LST2=100*a.ST,a.STV=a.LST2-a.LST1,a.LST3=a.LST3-a.LST1,a.LST3<a.STV&&(a.STV=a.LST3),a.STV=a.STV<0?0:Math.floor(a.STV*a.F),a.SOLZV=a.decimalFloor(5.5*a.STV/100,2),a.BKV=a.R>0?a.STV:0):(a.STV=0,a.SOLZV=0,a.BKV=0)},func_LST2016:function(){var a=this;a.func_MPARA(),a.func_MRE4JL(),a.VBEZBSO=0,a.KENNVMT=0,a.func_MRE4(),a.func_MRE4ABZ(),a.func_MBERECH(),a.func_MSONST(),a.func_MVMT()},decimalRound:function(a,b){var c=10*b;return Math.round(a*c)/c},decimalCeil:function(a,b){var c=10*b;return Math.ceil(a*c)/c},decimalFloor:function(a,b){var c=10*b;return Math.floor(a*c)/c},initParams:function(){var a=this;a.AF=0,a.AJAHR=0,a.ALTER1=0,a.ENTSCH=0,a.F=1,a.JFREIB=0,a.JHINZU=0,a.JRE4=0,a.JRE4ENT=0,a.JVBEZ=0,a.KRV=0,a.LZZ=2,a.LZZFREIB=0,a.LZZHINZU=0,a.PKPV=0,a.PKV=0,a.PVS=0,a.PVZ=0,a.R=0,a.RE4=0,a.SONSTB=0,a.SONSTENT=0,a.STERBE=0,a.STKL=0,a.VBEZ=0,a.VBEZM=0,a.VBEZS=0,a.VBS=0,a.VJAHR=0,a.VKAPA=0,a.VMT=0,a.ZKF=0,a.ZMVB=0,a.BK=0,a.BKS=0,a.BKV=0,a.LSTLZZ=0,a.SOLZLZZ=0,a.SOLZS=0,a.SOLZV=0,a.STS=0,a.STV=0,a.VKVLZZ=0,a.VKVSONST=0,a.ALTE=0,a.ANP=0,a.ANTEIL1=0,a.BMG=0,a.DIFF=0,a.EFA=0,a.FVB=0,a.FVBSO=0,a.FVBZ=0,a.FVBZSO=0,a.HBALTE=0,a.HFVB=0,a.HFVBZ=0,a.HFVBZSO=0,a.HOCH=0,a.J=0,a.JBMG=0,a.JLFREIB=0,a.JLHINZU=0,a.JW=0,a.K=0,a.KENNVMT=0,a.KFB=0,a.KVSATZAG=0,a.KVSATZAN=0,a.KZTAB=0,a.LSTJAHR=0,a.LST1,a.LST2,a.LST3,a.LSTOSO,a.LSTSO=0,a.MIST=0,a.PVSATZAG=0,a.PVSATZAN=0,a.RW=0,a.SAP=0,a.SOLZFREI=0,a.SOLZJ=0,a.SOLZMIN=0,a.ST=0,a.ST1=0,a.ST2=0,a.STOVMT=0,a.VBEZB=0,a.VBEZBSO=0,a.VERGL=0,a.VHB=0,a.VKV=0,a.VSP=0,a.VSPN=0,a.VSP1=0,a.VSP2=0,a.VSP3=0,a.W1STKL5=0,a.W2STKL5=0,a.W3STKL5=0,a.X=0,a.Y=0,a.ZRE4=0,a.ZRE4J=0,a.ZRE4VP=0,a.ZTABFB=0,a.ZVBEZ=0,a.ZVBEZJ=0,a.ZVE=0,a.ZX=0,a.ZZX=0}},debugmode=window.location.host.indexOf("dev.")>-1||window.location.host.indexOf("tonno.")>-1?!0:!1,debugmode&&console.log(window.location.host),debugging=[],debugmode&&(debugging=["calculation","samplevalues"]);var DebugCalc=function(a){this.init(a)};DebugCalc.prototype={init:function(a){var b=this;b.p=a},setDebugMode:function(){var a=this;a.setDebugTable(),$.inArray("samplevalues",debugging)>=0&&(a.p.isFitforfunbike=!1,a.p.$inputPrice.val(1500),a.p.$inputPriceUvp.val(1699),a.p.$inputBruttoLohn.val(3e3),a.p.$inputGeburtsjahr.val(1987),a.p.$optionNRW.attr("selected","selected"),a.p.calculate())},setDebugTable:function(){var a=this;$.inArray("debugtable",debugging)>=0&&a.p.$debugTable.empty().html("<table></table>")},renderRows:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v,w=this;v="<table>",v+='<tr class="headrow1" ><td colspan="2">'+a+"</td></tr>",v+="<tr><td>Bruttogehalt: </td><td>"+w.p.roundit(b,2)+" €</td></tr>",v+="<tr><td>- abzüglich Leasingrate: </td><td>- "+w.p.roundit(d,2)+" €</td></tr>",v+="<tr><td>- monatliche Subventionen: </td><td>- "+w.p.roundit(u,2)+" €</td></tr>",v+="<tr><td>+ monatlicher Arbeigeberzuschuss: </td><td>+ "+w.p.roundit(t,2)+" €</td></tr>",v+='<tr class="headrow" ><td>Bruttogehalt nach Umwandlung: </td><td>'+w.p.roundit(c,2)+" €</td></tr>",v+="<tr><td>Zuzüglich geldwerter Vorteil (1% vom Brutto Bikepreis abgerundet auf 100€): </td><td>"+g+" € <br />("+w.p.roundit(f,2)+" €)</td></tr>",v+='<tr class="headrow" ><td>Berechnungsgrundlage zur Versteuerung: </td><td>'+w.p.roundit(h,2)+" €</td></tr>",v+='<tr><td colspan="2"></td></tr>',v+='<tr class="headrow2"><td>Steuern: </td><td>'+w.p.roundit(i+j+k,2)+" €</td></tr>",v+="<tr><td>Lohnsteuerabzug: </td><td>"+w.p.roundit(i,2)+" €</td></tr>",v+="<tr><td>Solidaritäzszuschlag: </td><td>"+w.p.roundit(j,2)+" €</td></tr>",v+="<tr><td>Kirchensteuer: </td><td>"+w.p.roundit(k,2)+" €</td></tr>",v+='<tr class="headrow2"><td>Sozialabgaben: </td><td>'+w.p.roundit(l,2)+" €</td></tr>",v+="<tr><td>AN-Beitrag KV: </td><td>"+w.p.roundit(m,2)+" €</td></tr>",v+="<tr><td>AN-Beitrag PV: </td><td>"+w.p.roundit(n,2)+" €</td></tr>",v+="<tr><td>AN-Beitrag RV: </td><td>"+w.p.roundit(o,2)+" €</td></tr>",v+="<tr><td>AN-Beitrag AV: </td><td>"+w.p.roundit(p,2)+" €</td></tr>",v+='<tr class="headrow2"><td>Summe Lohnnebenkosten </td><td>'+w.p.roundit(q,2)+" €</td></tr>",v+='<tr><td colspan="2"></td></tr>',v+='<tr class="headrow" ><td>Summe Nettogehalt: </td><td>'+w.p.roundit(r,2)+" €</td></tr>",v+="<tr><td>Abzüglich versteuerter geldwerter Vorteil </td><td>"+w.p.roundit(g,2)+" €</td></tr>",v+='<tr class="headrow" ><td>Auszahlungsbetrag auf Konto: </td><td>'+w.p.roundit(s,2)+" €</td></tr>",v+='<tr><td class="singlespacerow" colspan="2"></td></tr>',v+="</table>",w.writeRow(v)},renderEndRows:function(){var a,b=this;a='<table><tr class="headrow1" ><td colspan="2">Vergleich:</td></tr>',a+="<tr><td>Leasing Preis normal (brutto): </td><td>"+b.p.roundit(b.p.leasingPriceBrutto,2)+" €</td></tr>",a+="<tr><td>Leasing Preis neu als Differenz Auszahlung auf Konto ohne("+b.p.roundit(b.p.lohnNettoOhneBike,2)+")/mit Bike("+b.p.roundit(b.p.lohnNettoMitBike,2)+"): </td><td>"+b.p.roundit(b.p.leasingPriceBarumwandlung,2)+" €</td></tr>",a+='<tr><td colspan="2"></td></tr></table>',b.writeRow(a)},writeRow:function(a){var b=this;b.p.$debugTable.append(a)},logParams:function(){var a=this,b=a.p.bmfSteuerRechner;console.log("_______ EINGABEPARAMETER START _______"),console.log("AF",b.AF),console.log("F",b.F),console.log("R",b.R),console.log("RE4",b.RE4),console.log("LZZ",b.LZZ),console.log("STKL",b.STKL),console.log("ZKF",b.ZKF),console.log("PKV",b.PKV),console.log("PKPV",b.PKPV),console.log("AJAHR",b.AJAHR),console.log("ALTER1",b.ALTER1),console.log("KRV",b.KRV),console.log("PVS",b.PVS),console.log("isBike",a.p.isBike),console.log("_______ EINGABEPARAMETER ENDE _______"),console.log("_______ LUR ERMITTELTE PARAMETER START _______"),console.log("BK: "+b.BK),console.log("BKS: "+b.BKS),console.log("BKV: "+b.BKV),console.log("LSTLZZ: "+b.LSTLZZ),console.log("SOLZLZZ: "+b.SOLZLZZ),console.log("SOLZS: "+b.SOLZS),console.log("SOLZV: "+b.SOLZV),console.log("STS: "+b.STS),console.log("STV: "+b.STV),console.log("VKVLZZ: "+b.VKVLZZ),console.log("VKVSONST: "+b.VKVSONST),console.log("PVZ: "+b.PVZ),console.log("_______ LUR ERMITTELTE PARAMETER ENDE _______")},debugSteuern:function(){var a=this,b=a.p.bmfSteuerRechner;console.log("_______ STEUERN START _______"),console.log("RE4",b.RE4),console.log("_"),console.log("Soli",a.p.soli),console.log("Kirchensteuer",a.p.kSteuer),console.log("Lohnsteuer",a.p.lohnSteuer),console.log("_"),console.log("Steuern",a.p.steuern),console.log("_______ STEUREN ENDE _______"),console.log("_______ VERSICHERUNGEN START _______"),console.log("Rentenversicherung",a.p.rVers),console.log("Arbeitslosenversicherung",a.p.aVers),console.log("Krankenversicherung",a.p.kVers),console.log("Pflegeversicherung",a.p.pVers),console.log("_"),console.log("Versicherungen",a.p.vers),console.log("_______ VERSICHERUNGEN ENDE _______")}};var LeasingCalculator=function(a){this.init(a)};LeasingCalculator.prototype={init:function(a){var b=this;b.$elm=a,b.prepareDataObject(),b.resetParams(),b.debug.setDebugMode(),"undefined"!=typeof b.$elm&&null!==b.$elm&&b.bindEvents()},prepareDataObject:function(){var a=this;a.debugmode=debugmode,a.debug=new DebugCalc(a),a.bikeprice=0,a.bikepriceBrutto=0,a.bikepriceNetto=0,a.leasingpriceNetto=0,a.leasingpriceBrutto=0,a.leasingPriceBarumwandlung=0,a.ersparnis=0,a.ersparnisProz=0,a.lohnBrutto=0,a.lohnBruttoBarumwandlung=0,a.aVers=0,a.rVers=0,a.pVers=0,a.agPVers=0,a.agKVers=0,a.agVers=0,a.vers=0,a.kSteuer=0,a.steuern=0,a.abgaben=0,a.lohnSteuer=0,a.soli=0,a.laufzeit=36,a.anzahlung=0,a.calctype=a.$elm.data("calctype"),a.calculatedShare=2===a.$elm.data("employersshare")?!0:!1,a.noSavings=a.$elm.data("nosavings"),"undefined"!=typeof a.$elm&&null!==a.$elm&&(a.$inputFields=a.$elm.find("input, select"),a.$debugTable=$("#debugtable"),a.$switches=a.$elm.find(".switch"),a.$submit=a.$elm.find("#btn-calculate"),a.$switchKinder=a.$elm.find("#lur_kinder_switch"),a.$switchKinderSpan=a.$elm.find("#lur_kinder_switch span"),a.$anzahlKinder=a.$elm.find("#lur_content_anzkinder"),a.$inputKinder=a.$elm.find("#lur_kinder"),a.$switchKirche=a.$elm.find("#lur_kirche_switch"),a.$switchUst=a.$elm.find("#lur_ust_switch"),a.$selectSteuerklasse=a.$elm.find("#lur_steuerklasse"),a.$rowSteuerFaktor=a.$elm.find("#lur_content_faktor"),a.$inputSteuerFaktor=a.$elm.find("#lur_faktor"),a.$selectKrankenkasse=a.$elm.find("#lur_krankenkasse"),a.$anKrankenkasse=a.$elm.find("#lur_content_ankraka"),a.$inputPrice=a.$elm.find("#price"),a.$inputPriceUvp=a.$elm.find("#price-uvp"),a.$inputBruttoLohn=a.$elm.find("#lur_bruttolohn"),a.$employersshare=a.$elm.find("#lur_employersshare"),a.$subventionAdd=a.$elm.find("#lur_subvention_add"),a.$subventionInternet=a.$elm.find("#lur_subvention_internet"),a.$subventionPhone=a.$elm.find("#lur_subvention_phone"),a.$selectBundesland=a.$elm.find("#lur_bundesland"),a.$optionNRW=a.$elm.find('option[value="NRW"]'),a.$selectBikeType=a.$elm.find(".lur_type"),a.$kvZusatz=a.$elm.find("#lur_kvzusatz"),a.$inputGeburtsjahr=a.$elm.find("#lur_gebjahr"),a.$inputPrivKrankenkassenBeitrag=a.$elm.find("#lur_priv_kassenbeitrag"),a.$selectRente=a.$elm.find(".lur_rente"),a.$calcTable=a.$elm.find("#calculation-tables"),a.$outputLeasingMonat=a.$elm.find("#lur_leasing_monat"),a.$outputLeasingMonatNetto=a.$elm.find("#lur_leasing_monat_netto"),a.$outputLeasingUmlage=a.$elm.find("#lur_leasing_umlage"),a.$outputErsparnisProzent=a.$elm.find("#lur_ersparnis_proz"),a.$outputErsparnisAbsolut=a.$elm.find("#lur_ersparnis_abs")),a.bmfSteuerRechner=new BmfSteuerRechner},bindEvents:function(){var a=this;a.$inputFields.on("keyup",function(){a.calculate()}),a.$inputFields.on("change",function(){a.calculate()}),a.$inputPrice.on("change",function(){a.$inputPriceUvp.val(a.$inputPrice.val())}),a.$switches.on("click",function(){$(this).toggleClass("opt-yes"),a.calculate()}),a.$submit.on("click",function(b){b.preventDefault(),a.calculate()}),a.$switchKinder.on("click",function(){$(this).hasClass("opt-yes")?a.$anzahlKinder.show():a.$anzahlKinder.hide()}),a.$selectSteuerklasse.on("change",function(){5==a.$selectSteuerklasse.val()?a.$rowSteuerFaktor.show():a.$rowSteuerFaktor.hide()}),a.$selectKrankenkasse.on("change",function(){1==a.$selectKrankenkasse.val()?a.$anKrankenkasse.hide():a.$anKrankenkasse.show()})},resetParams:function(){var a=this;a.debugmode=debugmode,a.setEingabeparameter(),a.getBikePrices()},setEingabeparameter:function(){var a,b=this,c=b.bmfSteuerRechner;c.initParams(),"undefined"!=typeof b.$selectSteuerklasse?(c.AF=5==b.$selectSteuerklasse.val()?1:0,c.F=5==b.$selectSteuerklasse.val()?b.$inputSteuerFaktor.val():1):(c.AF=0,c.F=1),"undefined"!=typeof b.$switchKirche?(b.kirche=b.$switchKirche.hasClass("opt-yes")?1:0,c.R=b.kirche):(c.R=1,b.kirche=1),"undefined"!=typeof b.$switchUst?(b.ust=b.$switchUst.hasClass("opt-yes")?0:1,b.$switchUst.hasClass("opt-yes")?b.$elm.removeClass("with-ust"):b.$elm.addClass("with-ust")):b.ust=0,"undefined"!=typeof b.$inputBruttoLohn?(b.lohnBrutto=""!==b.$inputBruttoLohn.val()&&"undefined"!=typeof b.$inputBruttoLohn.val()?parseFloat(b.$inputBruttoLohn.val().replace(",",".")):0,c.RE4=100*b.lohnBrutto):c.RE4="undefined"!=typeof b.lohnBrutto?b.lohnBrutto:3e3,b.employersshare="undefined"!=typeof b.$employersshare&&""!==b.$employersshare.val()&&"undefined"!=typeof b.$employersshare.val()?parseFloat(b.$employersshare.val().replace(",",".")):0,b.subventionAdd="undefined"!=typeof b.$subventionAdd&&""!==b.$subventionAdd.val()&&"undefined"!=typeof b.$subventionAdd.val()?parseFloat(b.$subventionAdd.val().replace(",",".")):0,b.subventionInternet="undefined"!=typeof b.$subventionInternet&&""!==b.$subventionInternet.val()&&"undefined"!=typeof b.$subventionInternet.val()?parseFloat(b.$subventionInternet.val().replace(",",".")):0,b.subventionPhone="undefined"!=typeof b.$subventionPhone&&""!==b.$subventionPhone.val()&&"undefined"!=typeof b.$subventionPhone.val()?parseFloat(b.$subventionPhone.val().replace(",",".")):0,b.subvention=b.subventionAdd+b.subventionPhone+b.subventionInternet,"undefined"!=typeof b.$selectSteuerklasse?(c.STKL=b.$selectSteuerklasse.val(),c.STKL>4&&(c.STKL-=1),b.$selectSteuerklasse.val()<5&&b.$switchKinder.hasClass("opt-yes")&&(c.ZKF=b.$inputKinder.val())):(c.STKL=1,c.ZKF=0),c.PVZ="undefined"!=typeof b.$selectSteuerklasse?"0"==b.$inputKinder.val()?1:0:1,b.kvZusatz="undefined"!=typeof b.$kvZusatz?parseFloat(b.$kvZusatz.val().replace(",","."))/100:0,c.PKPV=0,b.gebJahr=1980,c.AJAHR=parseFloat(b.gebJahr)+65,a=(new Date).getFullYear(),c.ALTER1=a-b.gebJahr>64?1:23,c.PKV="undefined"!=typeof b.$selectKrankenkasse?b.$selectKrankenkasse.val()-1:0,c.KRV="undefined"!=typeof b.$selectRente?parseInt(b.$selectRente.val()):0,b.Bundesland="undefined"!=typeof b.$selectBundesland?b.$selectBundesland.val():"undefined"!=typeof b.region?b.region:"NRW",c.PVS="SACHSEN"===b.Bundesland?1:0},getBikePrices:function(){var a=this;a.nodisplay!==!0&&(a.bikePriceBrutto="undefined"!=typeof a.$inputPrice&&""!==a.$inputPrice.val()?parseFloat(a.$inputPrice.val().replace(",",".")):0,a.bikePriceUvpBrutto="undefined"!=typeof a.$inputPriceUvp&&""!==a.$inputPriceUvp.val()?parseFloat(a.$inputPriceUvp.val().replace(",",".")):a.bikePriceBrutto),a.bikePriceNetto=a.bikePriceBrutto/1.19,a.leasingpriceNetto=a.getLeasingPriceNetto(),a.leasingpriceBrutto=1.19*a.leasingpriceNetto,a.percentBikePrice=Math.floor(a.bikePriceUvpBrutto/100),a.benefitBase=100*a.percentBikePrice,a.rundumschutzNetto=a.getRundumSchutz(),a.rundumschutzBrutto=1.19*a.rundumschutzNetto},getRundumSchutz:function(){var a=this,b=parseInt(a.$selectBikeType.val()),c=450;switch($.inArray("leasing",debugging)>=0&&console.log("netto Bikeprice: ",a.bikePriceNetto),$.inArray("leasing",debugging)>=0&&console.log("Bike Typ: ",b),$.inArray("leasing",debugging)>=0&&console.log("Calc Typ: ",a.calctype),!0){case 1===b:switch(!0){case a.bikePriceBrutto<=4760:c=450;break;case a.bikePriceBrutto>4760&&a.bikePriceBrutto<=6e3:c=480;break;case a.bikePriceBrutto>6e3&&a.bikePriceBrutto<=8e3:c=580;break;case a.bikePriceBrutto>8e3:c=670}break;case 0===b:switch(!0){case a.bikePriceBrutto<=4760:c=450;break;case a.bikePriceBrutto>4760&&a.bikePriceBrutto<=6e3:c=550;break;case a.bikePriceBrutto>6e3&&a.bikePriceBrutto<=8e3:c=670;break;case a.bikePriceBrutto>8e3:c=770}break;case 2===b:c=510}return $.inArray("leasing",debugging)>=0&&console.log("Rundumschutz: ",c),c},calculate:function(a){{var b,c,d,e=this;e.bmfSteuerRechner}e.nodisplay=a===!0?!0:!1,e.debug.setDebugTable(),e.resetParams(),e.versteuerungsgrundlageOhneBike=e.lohnBrutto-e.subvention,e.lohnNettoOhneBike=e.getLohnNetto(e.versteuerungsgrundlageOhneBike),e.lohnNettoBankOhneBike=e.lohnNettoOhneBike,c=e.agVers,e.steuernOhneBike=e.steuern,e.lohnSteuerOhneBike=e.lohnSteuer,e.soliOhneBike=e.soli,e.kSteuerOhneBike=e.kSteuer,e.versOhneBike=e.vers,e.kVersOhneBike=e.kVers,e.pVersOhneBike=e.pVers,e.rVersOhneBike=e.rVers,e.aVersOhneBike=e.aVers,e.abgabenOhneBike=e.abgaben,e.resetParams(),b=1===e.ust?e.lohnBrutto-e.leasingpriceBrutto:e.lohnBrutto-e.leasingpriceNetto,e.versteuerungsgrundlageMitBike=b-e.subvention+e.percentBikePrice,e.lohnNettoMitBike=e.getLohnNetto(e.versteuerungsgrundlageMitBike),e.lohnNettoBankMitBike=e.lohnNettoMitBike-e.percentBikePrice,d=e.agVers,e.resetParams(),e.calculatedShare&&(e.employersshare=c-d),b=1===e.ust?e.lohnBrutto-e.leasingpriceBrutto:e.lohnBrutto-e.leasingpriceNetto,e.lohnBruttoBarumwandlung=b-e.subvention+e.employersshare,e.versteuerungsgrundlageMitBike=e.lohnBruttoBarumwandlung+e.percentBikePrice,e.lohnNettoMitBike=e.getLohnNetto(e.versteuerungsgrundlageMitBike),e.lohnNettoBankMitBike=e.lohnNettoMitBike-e.percentBikePrice,d=e.agVers,e.leasingPriceBarumwandlung=Math.round(100*(e.lohnNettoBankOhneBike-e.lohnNettoBankMitBike))/100,e.bikePriceBruttoPlusRepair=e.bikePriceBrutto+500,e.leasingPriceBarumwandlung36=36*e.leasingPriceBarumwandlung,e.ersparnis=e.bikePriceBruttoPlusRepair-e.leasingPriceBarumwandlung36,e.ersparnisProz=100*(e.bikePriceBruttoPlusRepair/e.leasingPriceBarumwandlung36-1),e.nodisplay!==!0&&e.displayNewPrices()},getLohnNetto:function(a){{var a,b,c=this;c.bmfSteuerRechner}return c.getSteuern(a),c.getVers(a),c.abgaben=c.steuern+c.vers,b=a-c.abgaben},getSteuern:function(a){var b,c=this,d=c.bmfSteuerRechner;d.RE4=100*a,d.func_LST2016(),$.inArray("debugtableConsole",debugging)>=0&&c.debug.logParams(),$.inArray("steuern",debugging)>=0&&c.debug.debugSteuern(),c.lohnSteuer=d.LSTLZZ/100,c.soli=d.SOLZLZZ/100,b="BW"===c.Bundesland||"BAYERN"===c.Bundesland?.08:.09,c.kSteuer=1===c.kirche?d.BK/100*b:0,c.steuern=c.lohnSteuer+c.soli+c.kSteuer},getVers:function(a){var b,c=this,d=c.bmfSteuerRechner;kpVersGrundlage=a>4237.5?4237.5:a,arVersGrundlage=a>6200?6200:a,1==d.KRV&&(arVersGrundlage=a>5400?5400:a),2==d.KRV&&(c.rVers=0),c.rVers=.0935*arVersGrundlage,d.PKV<1?(b=.01175,0==d.ZKF&&d.ALTER1>=23&&(b+=.0025),1==d.PVS&&(b+=.005),c.pVers=kpVersGrundlage*b,c.aVers=.015*arVersGrundlage):(c.aVers=0,c.pVers=0),kVersSatz=.073+c.kvZusatz,c.kVers=d.PKV>0?d.PKPV/100:kpVersGrundlage*kVersSatz,c.agPVers=1==d.PVS?.00675*kpVersGrundlage:.01175*kpVersGrundlage,c.agKVers=kpVersGrundlage*kVersSatz,c.agVers=c.aVers+c.rVers+c.agPVers+c.agKVers,1===c.calctype&&(c.aVers=0,c.rVers=0,c.kVers=0,c.pVers=0),c.vers=c.aVers+c.rVers+c.kVers+c.pVers},displayNewPrices:function(){var a=this;leasingprice=a.germanFormat(a.extendDecimalNumbers(a.leasingPriceBrutto))+" &euro;",leasingpriceNetto=a.germanFormat(a.extendDecimalNumbers(a.leasingPriceNetto))+" &euro;",leasingpriceCalc=a.ust?a.leasingPriceBrutto:a.leasingPriceNetto,a.$outputLeasingMonat.html(leasingprice),a.$outputLeasingMonatNetto.html(leasingpriceNetto),a.$employersshare.attr("disabled")||a.$employersshare.val(a.roundit(a.employersshare,2)),a.validate()?(a.$outputLeasingUmlage.html(a.germanFormat(a.extendDecimalNumbers(a.roundit(a.leasingPriceBarumwandlung,2)))+" &euro;"),a.$outputErsparnisProzent.html(a.germanFormat(a.ersparnisProz)+"%"),a.$outputErsparnisAbsolut.html(a.germanFormat(a.extendDecimalNumbers(a.ersparnis))+" &euro;"),a.$calcTable.find("#bike-brutto").find(".value").text(a.germanFormat(a.bikePriceUvpBrutto)),a.$calcTable.find("#bike-brutto-2").find(".value").text(a.germanFormat(a.bikePriceBrutto)),a.$calcTable.find("#benefit-base").find(".value").text(a.germanFormat(a.benefitBase)),a.$calcTable.find("#monetary-benefit, #monetary-benefit-2").find(".value").text(a.germanFormat(a.percentBikePrice)),a.$calcTable.find("#monetary-benefit-3, #monetary-benefit-4").find(".col-1 .value").text(a.germanFormat(0)),a.$calcTable.find("#monetary-benefit-3, #monetary-benefit-4").find(".col-2 .value").text(a.germanFormat(a.percentBikePrice)),a.$calcTable.find("#brutto").find(".value").text(a.germanFormat(a.lohnBrutto)),a.$calcTable.find("#leasing").find(".col-1 .value").text(a.germanFormat(0)),a.$calcTable.find("#leasing").find(".col-2 .value").text(a.germanFormat(leasingpriceCalc)),a.$calcTable.find("#subventions").find(".value").text(a.germanFormat(a.subvention)),a.$calcTable.find("#employersshare").find(".col-1 .value").text(a.germanFormat(0)),a.$calcTable.find("#employersshare").find(".col-2 .value").text(a.germanFormat(a.employersshare)),a.$calcTable.find("#brutto-2").find(".col-1 .value").text(a.germanFormat(a.lohnBrutto)),a.$calcTable.find("#brutto-2").find(".col-2 .value").text(a.germanFormat(a.lohnBruttoBarumwandlung)),a.$calcTable.find("#tax-base").find(".col-1 .value").text(a.germanFormat(a.versteuerungsgrundlageOhneBike)),a.$calcTable.find("#tax-base").find(".col-2 .value").text(a.germanFormat(a.versteuerungsgrundlageMitBike)),a.$calcTable.find("#taxes").find(".col-1 .value").text(a.germanFormat(a.abgabenOhneBike)),a.$calcTable.find("#taxes").find(".col-2 .value").text(a.germanFormat(a.abgaben)),a.$calcTable.find("#tax").find(".col-1 .value").text(a.germanFormat(a.steuernOhneBike)),a.$calcTable.find("#tax").find(".col-2 .value").text(a.germanFormat(a.steuern)),a.$calcTable.find("#income").find(".col-1 .value").text(a.germanFormat(a.lohnSteuerOhneBike)),a.$calcTable.find("#income").find(".col-2 .value").text(a.germanFormat(a.lohnSteuer)),a.$calcTable.find("#solidarity").find(".col-1 .value").text(a.germanFormat(a.soliOhneBike)),a.$calcTable.find("#solidarity").find(".col-2 .value").text(a.germanFormat(a.soli)),a.$calcTable.find("#church").find(".col-1 .value").text(a.germanFormat(a.kSteuerOhneBike)),a.$calcTable.find("#church").find(".col-2 .value").text(a.germanFormat(a.kSteuer)),a.$calcTable.find("#insurance-contributions").find(".col-1 .value").text(a.germanFormat(a.versOhneBike)),a.$calcTable.find("#insurance-contributions").find(".col-2 .value").text(a.germanFormat(a.vers)),a.$calcTable.find("#pension").find(".col-1 .value").text(a.germanFormat(a.rVersOhneBike)),a.$calcTable.find("#pension").find(".col-2 .value").text(a.germanFormat(a.rVers)),a.$calcTable.find("#health").find(".col-1 .value").text(a.germanFormat(a.kVersOhneBike)),a.$calcTable.find("#health").find(".col-2 .value").text(a.germanFormat(a.kVers)),a.$calcTable.find("#care").find(".col-1 .value").text(a.germanFormat(a.pVersOhneBike)),a.$calcTable.find("#care").find(".col-2 .value").text(a.germanFormat(a.pVers)),a.$calcTable.find("#unemployment").find(".col-1 .value").text(a.germanFormat(a.aVersOhneBike)),a.$calcTable.find("#unemployment").find(".col-2 .value").text(a.germanFormat(a.aVers)),a.$calcTable.find("#netto").find(".col-1 .value").text(a.germanFormat(a.lohnNettoOhneBike)),a.$calcTable.find("#netto").find(".col-2 .value").text(a.germanFormat(a.lohnNettoMitBike)),a.$calcTable.find("#netto-1").find(".col-1 .value").text(a.germanFormat(a.lohnNettoBankOhneBike)),a.$calcTable.find("#netto-1").find(".col-2 .value").text(a.germanFormat(a.lohnNettoBankMitBike)),a.$calcTable.find("#bike-brutto-3").find(".value").text(a.germanFormat(a.annschaffungsPreisVers)),a.$calcTable.find("#netto-2").find(".value").text(a.germanFormat(a.leasingPriceBarumwandlung)),a.$calcTable.find("#total-leasing-36").find(".value").text(a.germanFormat(36*a.leasingPriceBarumwandlung)),a.$calcTable.find("#price-rest").find(".value").text(a.germanFormat(a.bikeRestwert)),a.$calcTable.find("#bike-brutto-4").find(".value").text(a.germanFormat(a.costsAfterTime)),a.$calcTable.find("#saving-buy").find(".value").text(a.germanFormat(a.savingsBuy)),a.$calcTable.find("#leasing-2").find(".value").text(a.germanFormat(a.leasingPriceBrutto)),a.$calcTable.find("#leasing-umwandlung").find(".value").text(a.germanFormat(a.leasingPriceBarumwandlung)),a.$calcTable.find("#savings-leasing-monthly").find(".value").text(a.germanFormat(a.ersparnis)),a.$calcTable.find("#savings-leasing-36").find(".value").text(a.germanFormat(a.ersparnis36)),a.$calcTable.find("#savings-leasing-percent").find(".value").text(a.germanFormat(a.ersparnisProz))):(a.$outputLeasingUmlage.html("-- &euro;"),a.$outputErsparnisProzent.html("-- %"),a.$outputErsparnisAbsolut.html("-- &euro;"))
},getLurPrice:function(a,b,c,d){var e=this;return"undefined"==typeof a&&(a=999),"undefined"==typeof b&&(b=3e3),"undefined"==typeof c&&(c=1980),"undefined"==typeof d&&(d="NRW"),e.nodisplay=!0,e.bikePriceBrutto=a,e.lohnBrutto=b,e.birthYear=c,e.region=d,e.calculate(!0),e.leasingPriceBarumwandlung},getLeasingPriceNetto:function(a){var b,c,d=this;return"undefined"==typeof inputPrice&&(a=d.bikePriceNetto),b=a+d.rundumschutzNetto,$.inArray("leasing",debugging)>=0&&console.log("Summe Paketpreis ZEG Sorglos Paket",b),c=d.getLeasingFactor(b),d.leasingPriceNetto=b*(c/100),d.leasingPriceBrutto=1.19*d.leasingPriceNetto,d.leasingPriceNetto},getLeasingFactor:function(a){var b,c=this;if(b=3.742,1!=c.calctype)switch(!0){case 1e3>=a:b=3.5164;break;case a>1e3&&2e3>=a:b=3.4281;break;case a>2e3&&3e3>=a:b=3.3693;break;case a>3e3&&5e3>=a:b=3.3398;break;case a>5e3&&7500>=a:b=3.3398;break;case a>7500&&15e3>=a:b=3.3104;break;case a>15e3&&25e3>=a:b=3.281}else switch(!0){case 1e3>=a:b=3.6895;break;case a>1e3&&2e3>=a:b=3.5475;break;case a>2e3&&3e3>=a:b=3.4175;break;case a>3e3&&5e3>=a:b=3.3575;break;case a>5e3&&7500>=a:b=3.3175;break;case a>7500&&15e3>=a:b=3.2875;break;case a>15e3&&25e3>=a:b=3.2375}return $.inArray("leasing",debugging)>=0&&console.log("Leasing Faktor: ",b),b},validate:function(){var a,b,c=this,d=c.$inputBruttoLohn.val().replace(",",".");return c.$inputPrice.addClass("error"),c.$inputBruttoLohn.addClass("error"),c.$selectBundesland.addClass("error"),""==c.$inputPrice.val()?!1:(c.$inputPrice.removeClass("error"),0>=d||isNaN(d)?!1:(c.$inputBruttoLohn.removeClass("error"),5==c.$selectSteuerklasse.val()&&(c.$inputSteuerFaktor.val()<=0||c.$inputSteuerFaktor.val()>1||isNaN(c.$inputSteuerFaktor.val()))?!1:c.$switchKirche.hasClass("opt-yes")&&"WAHL"===c.$selectBundesland.val()?!1:0===c.$selectBundesland.prop("selectedIndex")?!1:(c.$selectBundesland.removeClass("error"),c.$inputPrivKrankenkassenBeitrag.val()<0||0/0===c.$inputPrivKrankenkassenBeitrag.val()||""===c.$inputPrivKrankenkassenBeitrag.val(),c.$switchKinder.hasClass("opt-yes")&&(0/0===c.$inputKinder.val()||c.$inputKinder.val()<.5)?!1:(a=new Date,b=a.getFullYear(),!0))))},extendDecimalNumbers:function(a){var b=(""+a).split(".");return 2==b.length&&1==b[1].length?a+"0":1==b.length?a+".00":a},roundit:function(a,b){return Math.round(100*a)/Math.pow(10,b)},germanFormat:function(a){a=parseFloat(a);var b,c,d,e;return d=function(a){return a.split("").reverse().join("")},e=a.toFixed(2).split("."),c=e[0],b=e[1],c=d(d(c).match(/.{1,3}/g).join(".")),""+c+","+b}};